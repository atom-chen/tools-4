var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},__awaiter=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{h(i.next(t))}catch(e){o(e)}}function s(t){try{h(i["throw"](t))}catch(e){o(e)}}function h(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}h((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;h;)try{if(r=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return h.label++,{value:n[1],done:!1};case 5:h.label++,o=n[1],n=[0];continue;case 7:n=h.ops.pop(),h.trys.pop();continue;default:if(a=h.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){h=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){h.label=n[1];break}if(6===n[0]&&h.label<a[1]){h.label=a[1],a=n;break}if(a&&h.label<a[2]){h.label=a[2],h.ops.push(n);break}a[2]&&h.ops.pop(),h.trys.pop();continue}n=e.call(t,h)}catch(i){n=[6,i],o=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,a,s,h={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},BaseClass=function(){function t(){}return t.single=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this;if(!n._instance){var i=t.length;0==i?n._instance=new n:1==i?n._instance=new n(t[0]):2==i?n._instance=new n(t[0],t[1]):3==i?n._instance=new n(t[0],t[1],t[2]):4==i?n._instance=new n(t[0],t[1],t[2],t[3]):5==i&&(n._instance=new n(t[0],t[1],t[2],t[3],t[4]))}return n._instance},t}();__reflect(BaseClass.prototype,"BaseClass");var BaseEuiView=function(t){function e(){var e=t.call(this)||this;return e.removed=!1,e.skinName=egret.getQualifiedClassName(e)+"Skin",e.percentHeight=100,e.percentWidth=100,e}return __extends(e,t),e.ins=function(){var t=this;return this._instance||(this._instance=new t),this._instance},e.prototype.showClose=function(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=null),void 0===i&&(i=null),this.closeBtn=new eui.Image,this.closeBtn.source="close_btn_png",this.addChild(this.closeBtn),this.closeBtn.top=60,this.closeBtn.right=30,this.addTouchEvent(this.closeBtn,function(){ViewManager.inst().close(t),n&&i&&n.call(i)},!0)},e.prototype.onRouteFront=function(t){},e.prototype.addToParent=function(t){t.addChild(this)},e.prototype.refreshPage=function(){},e.prototype.removeFromeParent=function(){this&&this.parent&&(this.close(),this.parent.removeChild(this))},e.prototype.addTouchEvent=function(t,e,n){void 0===n&&(n=!1),n&&(t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBeginTouch,this),t.addEventListener(egret.TouchEvent.TOUCH_END,this.onEndTouch,this),t.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onEndTouch,this),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onEndTouch,this)),this.addEvent(egret.TouchEvent.TOUCH_TAP,t,e)},e.prototype.onBeginTouch=function(t){t.target&&this.changeFilter(t.target)},e.prototype.onEndTouch=function(t){t.target&&t.target.filters&&(t.target.filters=[])},e.prototype.changeFilter=function(t){var e=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0],n=new egret.ColorMatrixFilter(e);t.filters=[n]},e.prototype.removeTouchEvent=function(t,e){t&&t.removeEventListener(egret.TouchEvent.TOUCH_TAP,e,this),t&&t.hasEventListener("touchBegin")&&t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBeginTouch,this),t&&t.hasEventListener("touchEnd")&&t.removeEventListener(egret.TouchEvent.TOUCH_END,this.onEndTouch,this),t&&t.hasEventListener("touchCancel")&&t.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onEndTouch,this),t&&t.hasEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE)&&t.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onEndTouch,this)},e.prototype.addEvent=function(t,e,n){return e?void e.addEventListener(t,n,this):void console.log("不存在绑定对象")},e}(eui.Component);__reflect(BaseEuiView.prototype,"BaseEuiView");var BaseView=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.addTouchEvent=function(t,e,n){void 0===n&&(n=!1),this.addEvent(egret.TouchEvent.TOUCH_TAP,t,e),n&&(t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBeginTouch,this),t.addEventListener(egret.TouchEvent.TOUCH_END,this.onEndTouch,this),t.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onEndTouch,this),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onEndTouch,this))},e.prototype.onBeginTouch=function(t){t.target&&this.changeFilter(t.target)},e.prototype.onEndTouch=function(t){t.target&&t.target.filters&&(t.target.filters=[])},e.prototype.changeFilter=function(t){var e=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0],n=new egret.ColorMatrixFilter(e);t.filters=[n]},e.prototype.addTouchEndEvent=function(t,e){this.addEvent(egret.TouchEvent.TOUCH_END,t,e)},e.prototype.addChangeEvent=function(t,e){var n=this;t&&t instanceof eui.TabBar?this.addEvent(egret.TouchEvent.CHANGE,t,function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e.call.apply(e,[n].concat(t))}):this.addEvent(egret.TouchEvent.CHANGE,t,e)},e.prototype.addChangingEvent=function(t,e){this.addEvent(egret.TouchEvent.CHANGING,t,e)},e.prototype.addEvent=function(t,e,n){return e?void e.addEventListener(t,n,this):void debug.error("不存在绑定对象")},e.prototype.removeTouchEvent=function(t,e){t&&(t.removeEventListener(egret.TouchEvent.TOUCH_TAP,e,this),t.hasEventListener("touchBegin")&&t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBeginTouch,this),t.hasEventListener("touchEnd")&&t.removeEventListener(egret.TouchEvent.TOUCH_END,this.onEndTouch,this),t.hasEventListener("touchCancel")&&t.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onEndTouch,this),t.hasEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE)&&t.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onEndTouch,this))},e.prototype.$onClose=function(){var t=function(n){for(var i=0;i<n.numChildren;i++){var r=n.getChildAt(i);r instanceof e?r.$onClose():r instanceof egret.DisplayObjectContainer&&t(r)}};t(this)},e}(eui.Component);__reflect(BaseView.prototype,"BaseView");var CustomEvt=function(t){function e(e,n,i,r){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===r&&(r=!1);var o=t.call(this,e,i,r)||this;return o._data=n,o}return __extends(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.GAMELOADINGEND="gameLoadingEnd",e.GUIDE_CLICK_INFO="guide_click_info",e.GUIDE_SELECT_LEVEL_1="100001",e.GUIDE_CLICK_PUCONG="100002",e.GUIDE_CLICK_PUCONG_LIST="100003",e.GUIDE_CLICK_PUCONG_UPDATE="100004",e.GUIDE_CLICK_CLOSE_PUCONG="100005",e}(egret.Event);__reflect(CustomEvt.prototype,"CustomEvt");var LayerManager=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.inst=function(){var e=t.single.call(this);return e},e.prototype.iniaizlize=function(t){t.addChild(e.MAP_LAYER),e.MAP_LAYER.name="layer_map",e.MAP_LAYER.touchEnabled=!0,t.addChild(e.UI_Main),e.UI_Main.name="layer_main",e.UI_Main.touchThrough=!0,t.addChild(e.UI_MAIN_NAV),e.UI_MAIN_NAV.name="layer_nav",e.UI_MAIN_NAV.touchThrough=!0,t.addChild(e.UI_Pop),e.UI_Pop.name="layer_pop",e.UI_Pop.touchThrough=!0,t.addChild(e.TIPS_LAYER),e.TIPS_LAYER.name="tips",e.TIPS_LAYER.touchThrough=!0},e.MAP_LAYER=new eui.UILayer,e.UNIT_LAYER=new eui.UILayer,e.EFFECT_LAYER=new eui.UILayer,e.UI_Main=new eui.UILayer,e.UI_MAIN_NAV=new eui.UILayer,e.UI_Pop=new eui.UILayer,e.TIPS_LAYER=new eui.UILayer,e}(BaseClass);__reflect(LayerManager.prototype,"LayerManager");var ViewManager=function(t){function e(){var e=t.call(this)||this;return e._regesterInfo={},e._views=[],e}return __extends(e,t),e.inst=function(){var t=this.single();return t},e.prototype.getKey=function(t){for(var e="",n=Object.keys(this._regesterInfo),i=0,r=n.length;r>i;i++){var o=n[i];if(this._regesterInfo[o][0]==t){e=o;break}}return e},e.prototype.isExistView=function(t){for(var e=0;e<this._views.length;e++)if(this._views[e]instanceof t)return{view:this._views[e],index:e};return null},e.prototype.reg=function(t,e){if(null!=t){var n=egret.getQualifiedClassName(t);this._regesterInfo[n]||(this._regesterInfo[n]=[t,e])}},e.prototype.open=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var i=this.getKey(t);if(i){var r=this._regesterInfo[i],o=this.isExistView(r[0]),a=o?o.view:null,s=o?o.index-1:0;if(null==a?(a=new r[0],a.addToParent(r[1]),a.open.apply(a,e),this._views.push(a)):a.refreshPage&&a.refreshPage.apply(a,e),n){var h=this._views[s];h&&(h.left=0,egret.Tween.get(h).to({left:-100},500,egret.Ease.circOut).call(function(){egret.Tween.removeTweens(h)},this)),a.left=a.width,egret.Tween.get(a).to({left:0},500,egret.Ease.circOut).call(function(){egret.Tween.removeTweens(a)},this)}}else console.log("当前界面未注册----"+t)},e.prototype.getView=function(t){var e=this.getKey(t),n=this._regesterInfo[e],i=this.isExistView(n[0]),r=i?i.view:null;return r},e.prototype.closeReturnEffect=function(t,e,n){var i=this;void 0===e&&(e=!1),void 0===n&&(n=null);var r=this.getKey(t);if(r){var o=this._regesterInfo[r],a=this.isExistView(o[0]),s=a?a.index:0,h=this._views[s],l=this._views[s-1];if(h&&egret.Tween.get(h).to({left:h.width},500,egret.Ease.circOut).call(function(){egret.Tween.removeTweens(h),e&&i.close(t)},this),n){var u=this.getKey(n);if(u){var c=this._regesterInfo[u],g=this.isExistView(c[0]),f=-1;g&&(f=g.index),-1!=f&&(l=this._views[f])}}l&&(l.refreshPage&&l.refreshPage(),egret.Tween.get(l).to({left:0},500,egret.Ease.circOut).call(function(){egret.Tween.removeTweens(l)}))}},e.prototype.close=function(t){var e=this.getKey(t);if(e){var n=this._regesterInfo[e],i=this.isExistView(n[0]);if(!i)return null;var r=i?i.index:0,o=this._views[r];if(null==o)return null;this._views.splice(r,1),o.removeFromeParent()}else console.log("当前界面未注册----"+t)},e}(BaseClass);__reflect(ViewManager.prototype,"ViewManager");var DebugUtils=function(){function t(){}return Object.defineProperty(t,"isDebug",{get:function(){return!0},enumerable:!0,configurable:!0}),t.log=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];t.isDebug&&egret.log.apply(egret,[e].concat(n))},t.warn=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];t.isDebug&&egret.warn.apply(egret,[e].concat(n))},t.error=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];egret.error.apply(egret,[t].concat(e))},t}();__reflect(DebugUtils.prototype,"DebugUtils");var debug={log:DebugUtils.log,warn:DebugUtils.warn,error:DebugUtils.error},Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),StageUtils.init(),egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){},egret.lifecycle.onResume=function(){egret.ticker.resume()};var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(t){console.log(t)}),window.payCallBack=GlobalFun.payCallBack},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(n){switch(n.label){case 0:return[4,this.loadResource()];case 1:return n.sent(),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return t=n.sent(),this.startAnimation(t),[4,platform.login()];case 3:return n.sent(),[4,platform.getUserInfo()];case 4:return e=n.sent(),console.log(e),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return e.sent(),[4,this.loadTheme()];case 2:return e.sent(),this.stage.addChild(LoadingUI.inst()),[4,RES.loadGroup("preload",0,LoadingUI.inst())];case 3:return e.sent(),[3,5];case 4:return t=e.sent(),console.error(t),[3,5];case 5:return[2]}})})},e.prototype.loadTheme=function(){var t=this;return new Promise(function(e,n){var i=new eui.Theme("resource/default.thm.json",t.stage);i.addEventListener(eui.UIEvent.COMPLETE,function(){e()},t)})},e.prototype.createGameScene=function(){eui.Button.prototype.autoSize=eui.Image.prototype.autoSize=eui.Group.prototype.autoSize=function(){var t=StageUtils.inst().getWidth()/750,e=StageUtils.inst().getHeight()/1334;this.x*=t,this.y*=e},LayerManager.inst().iniaizlize(this);var t=RES.getRes("config_zip");JSZip.loadAsync(t).then(function(t){return t.file("config.json").async("text")}).then(function(t){GlobalConfig.setData(JSON.parse(t)),GameApp.inst().load()})},e.prototype.startAnimation=function(t){},e}(eui.UILayer);__reflect(Main.prototype,"Main");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var GameApp=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.load=function(){eui.Label.default_fontFamily="Microsoft YaHei",GlobalConfig.parserData(),GameMap.init(RES.getRes("map_json")),LoadingUI.inst().hide(),eui.Binding.bindHandler(e,["pay_cbDdata"],this.onDataCallBack,this),MessageManager.inst().addListener("GAME_OVER",this.onGameOver,this),ViewManager.inst().open(LoginView)},e.prototype.onGameOver=function(){e.battleNum+=2},e.inst=function(){var t=this.single();return t},e.prototype.onDataCallBack=function(t){t&&(e.phurseState=!1,e.pay_cbDdata="",UserTips.inst().showTips("购买成功,获得元宝x"+t))},e.prototype.postPerLoadProgress=function(t,e){return[t,e]},e.phurseState=!1,e.isFinishFirstTask=!0,e.isGetTaskReward=!1,e.storyIndex=0,e.battleNum=2,e.neiwu_state=!1,e.stzhi_state1=!1,e.stzhi_state2=!1,e.ji_state=1,e.nextStepId="",e.waitStepId="",e.guilding=!0,e}(BaseClass);__reflect(GameApp.prototype,"GameApp");var GameConfig=function(){function t(){}return t.role_name="",t.names=["糖果仙女","电力猫咪","蜡笔小没良心","马尾姑娘","叮当不响","╭⌒浮生若夢","姐很高，也很傲","秋心飘雪","勿忘心安.","手心里的回忆","相见泪染妆","嘴角、一丝笑","剩夏光年","旧约i","萌小姐i","梦中的梦","风吹辫辫飘","半度微风","和你遇见","独遗酒盏","扬州灯火","仙气胶囊","寻菡","零落","薇糖","梦之","清秀姑娘","白凝","从蓉","丹琴","万物生长","醉笙情"],t.level_id=0,t.levelFig=[{id:1,state:1,name:"初入皇宫",title:"答应"},{id:2,state:0,name:"深宫怪事",title:"常在"},{id:3,state:0,name:"青梅竹马",title:"贵人"},{id:4,state:0,name:"初次选秀",title:"嫔妃"},{id:5,state:0,name:"训练闹事",title:"妃"},{id:6,state:0,name:"鬼怪现身"},{id:7,state:0,name:"被人冤枉"},{id:8,state:0,name:"深入宫廷"},{id:9,state:0,name:"反将一军"},{id:10,state:0,name:"成功入选"}],t}();__reflect(GameConfig.prototype,"GameConfig");var GlobalConfig=function(){function t(){}return t.setData=function(t){this.config=t},t.parserData=function(){if(!this.init&&this.config){var e=function(e){var i=n.config[e],r=egret.getDefinitionByName(e);if(r){var o="_obj"+e;n[o]=new r;var a="_bool"+e;n[a]=!1;var s="_"+e+"_";Object.defineProperty(n,e,{get:function(){var n=this[s];if(this[a])return n;var i=this[o];return this.parseKeys(n,i,t.keys[e]||0),this[a]=!0,n},set:function(t){this[s]=t}})}n[e]=i},n=this;for(var i in this.config)e(i);this.init=!0,this.config=null}},t.parseKeys=function(t,e,n){if(0==n)t.__proto__=e;else for(var i in t)this.parseKeys(t[i],e,n-1)},t.keys={QuestionCfg:1},t}();__reflect(GlobalConfig.prototype,"GlobalConfig");var GuideCfg=function(){function t(){}return t.guidecfg={"1_1":{event:CustomEvt.GUIDE_CLICK_INFO,next:"1_2",param:{}},"1_2":{event:CustomEvt.GUIDE_SELECT_LEVEL_1,next:"",wait:"1_3",param:{}},"1_3":{event:CustomEvt.GUIDE_CLICK_PUCONG,next:"1_4",param:{}},"1_4":{event:CustomEvt.GUIDE_CLICK_PUCONG_LIST,next:"1_5",param:{}},"1_5":{event:CustomEvt.GUIDE_CLICK_PUCONG_UPDATE,next:"1_6",param:{}},"1_6":{event:CustomEvt.GUIDE_CLICK_CLOSE_PUCONG,next:"",param:{}}},t}();__reflect(GuideCfg.prototype,"GuideCfg");var ShopCfg=function(){function t(){}return t.shopCfgs={1:{icon:"gold_60_png",goldNum:60,cost:"￥6",desc:"花费6元可获得60元宝",costNum:6,goodid:0},2:{icon:"gold_500_png",goldNum:500,cost:"￥50",desc:"花费50元可获得500元宝",costNum:50,goodid:1},3:{icon:"gold_680_png",goldNum:680,cost:"￥68",desc:"花费68元可获得680元宝",costNum:68,goodid:2},4:{icon:"gold_980_png",goldNum:980,cost:"￥98",desc:"花费98元可获得980元宝",costNum:98,goodid:3}},t}();__reflect(ShopCfg.prototype,"ShopCfg");var StoryCfg=function(){function t(){}return t.storyCfg=[{role:"",left:null,right:null,cnt:"开始：刺眼的光过去，你睁开迷蒙的双眼……",end:!1,bg:"img_0_png"},{role:"",left:null,right:null,cnt:"映入眼帘的事庄严的红墙，在湛蓝的天空下，金黄色的琉璃瓦屋顶，气势恢宏，紫禁城的风光尽收眼底！",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"真的穿越成功了，还以为不会这么顺利，任务完成后回去，一定要给博士点个赞！",end:!1},{role:"",left:null,right:null,cnt:"你兴奋的环视四周，不远处停靠着一排排马车，还有一群被搀扶下车，身着华服的俏丽少女们。",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"【疑惑】怎么回事？这些女孩怎么看都不像是来应选宫女的啊！",end:!1},{role:"",left:null,right:null,cnt:"你连忙拉住旁边的侍卫询问，却得知现在是乾隆六年，因为博士的操作失误，你来晚了一年！",end:!1},{role:"",left:null,right:null,cnt:"此时，你不知道如何是好？正在懊恼之际…...",end:!1},{role:"",left:null,right:null,cnt:"前方倒下一名少女，头发散乱看不清长相，嫩白的手上全是淤青，和手腕上的白玉手镯形成鲜明的对比！",end:!1},{role:"",left:null,right:null,cnt:"她气若游丝，挣扎着往前爬，仿佛有人在追赶，你准备上前去救助！",end:!1},{role:"",left:null,right:null,cnt:"突然，一位老妇人拦住了你的去路。",end:!1},{role:"guanjiamomo_png",left:null,right:1,roleName:"管家嬷嬷",cnt:"婉君小姐，您怎么跑这里来了？",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"（婉君小姐？）她是不是认错人了。",end:!1},{role:"",left:null,right:null,cnt:"你越过她往前走，只是一瞬间，前面倒下的少女便消失无踪，就像不曾出现过一样！",end:!1},{role:"",left:null,right:null,cnt:"（难道刚刚的都是幻觉？）",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"哎呦，我的小祖宗！可算找找你了！时辰快到了，再不更衣就来不及了!",end:!1},{role:"guanjiamomo_png",left:null,right:1,roleName:"管家嬷嬷",cnt:"刚想解释，你话还没说出口，就被她推赶着进入了皇宫！",end:!0},{role:"",left:null,right:null,cnt:"糊里糊涂的换完衣服，你决定还是先解释一下情况。",end:!1,bg:"img_1_png"},{role:"guanjiamomo_png",left:null,right:1,roleName:"管家嬷嬷",cnt:"不用说了小姐，都到这个状况了，嬷嬷知道您不想选秀。",end:!1},{role:"guanjiamomo_png",left:null,right:1,roleName:"管家嬷嬷",cnt:"可朝廷命官直女参加选秀，是老祖宗流下的规矩，作为陈大人家的千金，这是您的义务！",end:!1},{role:"guanjiamomo_png",left:null,right:1,roleName:"管家嬷嬷",cnt:"【哽咽】你要是离家出走，陈家肯定会被牵扯其中，这几百口人的性命可咋办啊？",end:!1},{role:"",left:null,right:null,cnt:"嬷嬷的一番话，让你生成一种荒唐之感，作为一名21世纪的女性，你一时无法接受！",end:!1},{role:"",left:null,right:null,cnt:"难道自己穿越成了这位婉君小姐，不会吧，这人设也太离谱了吧！",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"【叹气】嬷嬷放心，我不再逃了，入宫而已，又不是什么龙潭虎穴！",end:!1},{role:"",left:null,right:null,cnt:"事情都到了这个地步，你也不再多想，决定将错就错，冒用陈婉君的身份。",end:!1},{role:"",left:null,right:null,cnt:"只是你心中依然惴惴不安，总觉得此时没有那么简单。",end:!1},{role:"",left:null,right:null,cnt:"嬷嬷看着你坚定的眼神，悬着的欣终于放下， 心满意足的目送你进入拱门，最后才转身离去。",end:!1},{role:"",left:null,right:null,cnt:"阴差阳错的成为了秀女，你跟随领路总管，融入这红飞翠舞的修女队伍之中，渐渐的迈入了紫禁城这座美丽的牢笼！",end:!1},{role:"",left:null,right:null,cnt:"既然顺利入宫，任务也算有一个好的开始，现在只好走一步看一步了。",end:!1},{role:"",left:null,right:null,cnt:"为了寻找白山秀娟的线索，你只能先放下身份的隐忧。",end:!1},{role:"",left:null,right:null,cnt:"“啪”一声响亮的巴掌打断了你的思绪，你寻找声源望去，不知不觉走出了队伍！",end:!1},{role:"mingxiang_png",left:null,right:1,roleName:"明香",cnt:"【捂着巴掌印的脸】：对不起，我不是故意的",end:!1},{role:"xiaozhuozi_png",left:null,right:1,roleName:"小路子",cnt:"你不要太过分了，是你先撞的明祥，却反过来教训人！",end:!1},{role:"gongnvjia_png",left:null,right:1,roleName:"宫女甲",cnt:"哦，你可知我手上拿着的是何物？这是瑞贵人侄女纳塔小主的梳妆盒，万一碰坏了你们担待这起吗？",end:!1},{role:"",left:null,right:null,cnt:"看着那宫女狗仗人势的跋扈模样，让你莫名不痛快，怎么办？",startSelect:!0},{select1:"1.事不关己离开",select2:"2.路见不平上前"},{role:"",left:null,right:null,cnt:"但是刚没走几步你心中还是不忿，我一个穿越人，还怕你一个小妖精！",end:!1},{role:"",left:null,right:null,cnt:"说时迟那时快，你心意已决，扭头朝着那两个宫女走去！",end:!1},{role:"",left:null,right:null,cnt:"宫女他们俩人没再反抗，飞扬跋扈准备离去！",end:!1},{role:"",left:null,right:null,cnt:"你看准时机，冲上前去，才刚碰到宫女便倒地而坐！",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"哎呦，我的衣服，这是爹爹特地从江南给带回来的，价值五百两，你撞到我的，你赔给我！",end:!1},{role:"gongnvjia_png",left:null,right:1,roleName:"宫女甲",cnt:"我只是轻轻的挨了你一下，是你自己摔得！",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"谁有那闲工夫诬陷你，你弄脏了我的衣服，让我怎么选秀！",end:!1},{role:"gongnvjia_png",left:null,right:1,roleName:"宫女甲",cnt:"你….那你想怎么样！",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"我不想怎么样，只是想让你以后长点记性，别以为背后有人就目中无人，比你主子厉害的人多了，长点心吧！",end:!0},{role:"",left:null,right:null,cnt:"面对宫女狠厉的神情，胆怯的明祥还是不敢出手！",end:!1,bg:"img_1_png"},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"没事，有我在，上！",end:!1},{role:"",left:null,right:null,cnt:"在你的鼓励下，明祥伸出右手，狠狠的甩过去一巴掌，声音清脆响亮！",end:!1},{role:"gongnvjia_png",left:null,right:1,roleName:"宫女甲",cnt:"【吃痛】你们….你们给我等着！",end:!1},{role:"",left:null,right:null,cnt:"宫女捂着通红的脸，等着你们愤恨而去!",end:!1},{role:"xiaozhuozi_png",left:null,right:1,roleName:"小路子",cnt:"小主刚入宫，没有相熟的奴婢丫鬟照应，不如和内务府的人打个招呼，就让我和明祥跟随左右吧！",end:!1},{role:"mingxiang_png",left:null,right:1,roleName:"明香",cnt:"是呀，感谢小主刚才的解围之恩，就让咱俩跟随小主吧！",end:!1},{role:"",left:null,right:null,cnt:"看着俩人满怀期待的眼神，你想到自己尚不熟悉宫廷规矩，决定欣然接受！",end:!0},{role:"",left:null,right:null,cnt:"给明祥打抱不平耽搁了一些时间，小路子怕你延误秀女集合的时间，决定带你抄近路。",end:!1,bg:"img_2_png"},{role:"zongguantaijian_png",left:null,right:1,roleName:"总管太监",cnt:"让开让开，别挡道！",end:!1},{role:"",left:null,right:null,cnt:"刚进小道，就见一群太监抬着担架匆匆跑来，蛮横的将你撞开！",end:!1},{role:"",left:null,right:null,cnt:"小路子眼疾手快的扶住了你，因为碰撞的关系，担架上的白布先开一角。",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"这位公公，在匆忙也要应该注意旁人，你差点把我推到花坛里了。",end:!1},{role:"zongguantaijian_png",left:null,right:1,roleName:"总管太监",cnt:"这位小主，这担架上可是一名落水秀女的尸首，您要是不想触霉头，还是赶紧躲开吧！",end:!1},{role:"",left:null,right:null,cnt:"你朝掀开的白布看下去，顿时愣在原地！",end:!1},{role:"",left:null,right:null,cnt:"担架上的死者满脸淤青，是去生气的面容让你觉得几分熟悉！",end:!1},{role:"",left:null,right:null,cnt:"伤痕累累的双手早已是去原来的肤色，只有手腕上的玉镯仍旧散发着光泽！",end:!1},{role:"",left:null,right:null,cnt:"（白色玉镯？这是之前那个女孩子，看来我并不是看见了幻觉！）",end:!0},{role:"",left:null,right:null,cnt:"你心中愈发惶恐，想起先前少女伏地的惨状，你确定少女不是裸睡，而是被折磨致死",end:!1,bg:"img_2_png"},{role:"",left:null,right:null,cnt:"人人向往的紫禁城，在你看来就是一个巨大的牢笼永远不缺鲜活的生命在这里寂寞的凋零。",end:!1},{role:"",left:null,right:null,cnt:"往后你需要更加小心谨慎，除了追寻那失踪的白山秀娟的踪迹们尽量不闻外事！",end:!1},{role:"",left:null,right:null,cnt:"你替少女拉好白布，抬着担架的太监们看了你一眼，大惊失色，低下头慌忙着离开了！",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"（疑惑？刚才还好好的，怎么这会就跟见了鬼似的！）",end:!1},{role:"",left:null,right:null,cnt:"你心中百思不得其解，但也是只能捂在心里，将其抛诸脑后，因为你还有更重要得事情等着你！",end:!1},{role:"",left:null,right:null,cnt:"在明祥和小路子的带领下，你来到修女所，验明身份后，被安排到一所厢房中",end:!1},{role:"xiaozhuozi_png",left:null,right:1,roleName:"小路子",cnt:"奴才先去内务府给小主取入一些入宫物品，先让明祥带小猪熟悉一下宫中环境！",end:!1},{role:"mingxiang_png",left:null,right:1,roleName:"明香",cnt:"小主，秀女所位于景仁宫后侧，因为三年才开放一次，所以受景仁宫照拂。",end:!1},{role:"mingxiang_png",left:null,right:1,roleName:"明香",cnt:"即便仍在待选，秀女们也要学习处理内务，等小主更熟悉宫内后，明祥在为小主介绍吧！",end:!0},{role:"",left:null,right:null,cnt:"待在修女所的第一个晚上，你辗转难眠！",end:!1,bg:"img_3_png"},{role:"",left:null,right:null,cnt:"不熟悉的环境，身份的隐忧，太监的惊讶…让你觉得前方一片迷雾，，心中涌起阵阵不安！",end:!1},{role:"",left:null,right:null,cnt:"你决定起床走走，分散一下自己心中的郁闷！",end:!1},{role:"",left:null,right:null,cnt:"刚走出抬起头看向星空，却不想屋檐上，一个身穿黑衣夜行衣的黑衣人突然出现，和你四目相对！",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"（不是吧，这年头出来看个星星都能遇到刺客，电视剧都没这么狗血啊！）",startSelect:!0},{select1:"1.敌不动我不动",select2:"2.月黑风高杀人夜，跑",bg:"img_3_png"},{role:"",left:null,right:null,cnt:"你呆呆的站在当地没有动弹，那刺客见状更是嚣张，一跃便来到你面前！",end:!1},{role:"",left:null,right:null,cnt:"你余光瞧见侍卫打扮的男子，立刻朝他大喊！",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"救命啊！",end:!1},{role:"",left:null,right:null,cnt:"侍卫闻声赶来，刺客见状抓过你一推，趁侍卫接住你的功夫，消失在黑夜中！",end:!1},{role:"",left:null,right:null,cnt:"听着怀中强有力的心跳声，劫后余生的狂喜让你对此时的怀抱，有着一种道不清的眷恋！",end:!1},{role:"",left:null,right:null,roleName:"阿里云",cnt:"姑娘，已经没事了，你先放开在下！",end:!1},{role:"",left:null,right:null,cnt:"低沉浑厚的声音在你的耳边响起，鼻息间都是清冽的男性气息，脸不禁热了起来！",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"对，对，对不起！",end:!1},{role:"",left:null,right:null,cnt:"你连忙推开他，实现却不舍的流连在他身上！",end:!1},{role:"",left:null,right:null,cnt:"这时，一阵夜风徐徐，吹散这月云，你的面容在清冷月光下，如玉般映入侍卫的眼中！",end:!1},{role:"",left:null,right:null,cnt:"婉君，是你！",end:!1},{role:"",left:null,right:null,cnt:"刚静下来的心，因为侍卫的一句话，再次慌乱的跳动！",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"（不是这么巧啊…..竟是陈婉君的熟人！）",end:!1},{role:"",left:null,right:null,cnt:"因为做贼心虚，你连忙低头，手足无措之时！",end:!1},{role:"taijian_png",left:null,right:1,roleName:"太监",cnt:"好呀，世风日下，秀女竟然夜里私会男人，看我不把事情禀报给太后！",end:!0},{role:"",left:null,right:null,cnt:"你刚想制止太监，眼前的男子已经快速来到太监眼前，并且用手中泛着寒光的刀架在他脖子上！",end:!1,bg:"img_1_png"},{role:"taijian_png",left:null,right:1,roleName:"太监",cnt:"饶。。。饶命啊，阿里大人！",end:!1},{role:"",left:null,right:null,cnt:"说，你和刚才的刺客是什么关系！",end:!1},{role:"taijian_png",left:null,right:1,roleName:"太监",cnt:"什么刺客，冤枉啊！奴才只是收了钱随时盯紧秀女身边的动向，其他事情并不知晓！",end:!1},{role:"",left:null,right:null,cnt:"阿里云，眉头一皱，喊人将其押走，随后准备跟上，离开之际却突然回头。",end:!1},{role:"",left:null,right:null,cnt:"知道他是陈婉君的熟人，你怕漏出破绽，尴尬的往后退了一步，阿里云眉头紧皱倒也不语！",end:!1},{role:"",left:null,right:null,cnt:"婉君，如今深夜你我二人不便长谈，往后有什么事，尽管找我，你我二人青梅竹马，不需要如此生分，我会保护你的！",end:!1},{role:"",left:null,right:null,cnt:"你看着阿里云的背影陷入沉思，黑衣人，陈婉君还认识，，，越来越多的事情让你开始担忧。",end:!1},{role:"",left:null,right:null,cnt:"冒用陈婉君的身份，到底是对的，还是错误的选择！",end:!1},{role:"",left:null,right:null,cnt:"本以为如此惊心动魄的夜晚，你会睁眼到天亮。",end:!1},{role:"",left:null,right:null,cnt:"最后却因为阿里云那句话，““”我会保护你”，竟然安心睡到天亮，并且一夜无梦！",end:!1},{role:"",left:null,right:null,cnt:"天刚蒙蒙亮，你就要和其他秀女一起前去，接受内务府第一轮秀女的甄选了！",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"【打着哈欠】这选秀，怎么比上班还早！",end:!1},{role:"",left:null,right:null,cnt:"你睡眼惺忪，打着呵欠跟在队伍后面，没看到前面队伍转弯，一头就撞在树干上去，书上的花瓣和落叶缓缓飘下！",end:!1},{role:"mingxiang_png",left:null,right:1,roleName:"明香",cnt:"小主？您这是怎么了，想要给神树许愿不用这样磕头的。",end:!1},{role:"mingxiang_png",left:null,right:1,roleName:"明香",cnt:"听闻只要诚心许愿就能得到庇护，猪呢个个人都会容光焕发，心想事成，小主也赶紧试一下吧！",end:!1},{role:"",left:null,right:null,cnt:"你赶紧装出个样子，不想让明祥知道你出糗，双手合上，闭眼虔诚的许愿！",end:!0},{role:"",left:null,right:null,cnt:"第二天，天刚蒙蒙亮，你就被一阵嘈杂声音吵醒！",end:!1,bg:"img_4_png"},{role:"zongguantaijian_png",left:null,right:1,roleName:"总管太监",cnt:"都什么时候了还有人在睡觉，不知道今天是赐封大典吗？",end:!1},{role:"",left:null,right:null,cnt:"你透过窗字看见院子里到处都是人影晃动，大家都忙的不亦乐乎！",end:!1},{role:"",left:null,right:null,cnt:"于是你赶紧也起床洗漱更衣！",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"明香，帮我洗漱一下，我要起床了！",end:!1},{role:"zongguantaijian_png",left:null,right:1,roleName:"总管太监",cnt:"哟，这是哪位小主啊，现在都什么时辰了，您还真是心大啊！",end:!1},{role:"",left:null,right:null,cnt:"你看着这个一脸阴阳怪笑的太监，顿时就一阵恶心，真的是唇红齿白啊，一脸贱样啊！",end:!1},{role:"",left:null,right:null,cnt:"真相一巴掌扇上去，骂他一顿！",end:!1},{role:"",left:null,right:null,cnt:"你强忍住揍他的渴望，不想搭理他，慢慢悠悠的穿上了衣服！",end:!1},{role:"",left:null,right:null,cnt:"这位公公见你无视了他，也是怒从心生，忙上前抖了两部！",end:!0},{role:"",left:null,right:null,cnt:"用手挡住了你穿衣服的手，嚣张的看着你",end:!1,bg:"img_4_png"},{role:"",left:null,right:null,cnt:"你望了望他，心中很是怀疑，难道老娘的地位还不如一个公公，都敢这么放肆了吗？",end:!1},{role:"",left:null,right:null,cnt:"殊不知，这位公公可真是不一般，毕竟是内务府的掌事总领太监，那可是有官阶的！",end:!1},{role:"",left:null,right:null,cnt:"可比你这刚进宫的小主厉害多了，多少人都想巴结还来不及",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"这位公公不知道是什么意思，我有什么地方得罪你了嘛？",end:!1},{role:"",left:null,right:null,cnt:"太监就是看你对他的态度过于傲慢，才想到给你一个下马威。",end:!1},{role:"",left:null,right:null,cnt:"好让你看清楚，在这个宫里是谁厉害一点！",end:!1},{role:"xiaozhuozi_png",left:null,right:1,roleName:"小路子",cnt:"小主，请你赶紧移驾宫里，麻黄素那个开始了！",end:!1},{role:"mingxiang_png",left:null,right:1,roleName:"明香",cnt:"对呀，我们的快点走，我们的名次海慧寺很靠前的！",end:!1},{role:"mingxiang_png",left:null,right:1,roleName:"明香",cnt:"小主，这边请，我们的加快些脚程了。",end:!0},{role:"",left:null,right:null,cnt:"还好我体质好，再加上那个女人肥的像猪，顺利甩开她了。",end:!1,bg:"img_5_png"},{role:"zongguantaijian_png",left:null,right:1,roleName:"总管太监",cnt:"回头望去，原来是一个卖豆浆油条的，看着那刚出锅的油条，我馋的口水直流。",end:!1},{role:"",left:null,right:null,cnt:"看到了，我又不是瞎子！我在心里回应。她也想吃啊，可惜身上半毛钱都没有。",end:!1},{role:"",left:null,right:null,cnt:"那小贩看她面生，有谈吐不凡，以为是遇见了高人，忙说：“不知这位小哥有何高见？”",end:!1},{role:"Mainbust_png",left:1,right:null,roleName:"我",cnt:"小贩见她不语，有点急了，忙用纸包好一个刚出锅的油条递到我面前：“若不嫌弃，您先尝尝？”",end:!1},{role:"zongguantaijian_png",left:null,right:1,roleName:"总管太监",cnt:"我也不客气，接过来狼吞虎咽地吃了下去。",end:!1},{role:"",left:null,right:null,cnt:"第二个下肚，终于填饱肚子了，我故作神秘的样子：“告诉你啊，”那人赶紧附耳过来。",end:!1},{role:"",left:null,right:null,cnt:"我一边跑，一边忏悔着：神啊，佛啊，阿拉啊。",end:!1},{role:"",left:null,right:null,cnt:"话刚说完，天上真的打了一个雷，不过我并没有被劈回去。",end:!1},{role:"",left:null,right:null,cnt:"那卖油条的小贩以为顾客来了，忙热情地招呼着：“这位客官，来点什么呢？我这里的油条都是刚出炉的哦！”",end:!0},{role:"",left:null,right:null,cnt:"忽然她脑筋一转，计上心来。“唉！油条是好东西，可惜你这个太费油了！”",end:!1,bg:"img_5_png"},{role:"",left:null,right:null,cnt:"我不回答他，只是盯着那油条看，继续说：“真是太费油了，唉！”",end:!1},{role:"",left:null,right:null,cnt:"一个似乎还不饱，我厚着脸皮说：“再来一个！”那人毫不吝啬的又给了她一个。",end:!1},{role:"",left:null,right:null,cnt:"“要想不费油，我劝你蒸馒头！哈哈！”说完，脚底一抹油，快速逃走了。",end:!1},{role:"",left:null,right:null,cnt:"那小贩气得在后面哇哇直叫，可是为了顾摊子，也没追上去。",end:!1},{role:"",left:null,right:null,cnt:"你心中百思不得其解，但也是只能捂在心里，将其抛诸脑后，因为你还有更重要得事情等着你！",end:!1},{role:"",left:null,right:null,cnt:"请原谅我吧！我也是实在太饿了，就是两根油条，你们别怪我啊。",end:!1},{role:"",left:null,right:null,cnt:"实在要怪，，就让雷劈我吧，把我劈回现代去吧！",end:!1},{role:"",left:null,right:null,cnt:"接着，原本还在天上的太阳迅速被乌云遮住了。",end:!1},{role:"",left:null,right:null,cnt:"这该死的皇宫真是让人头大，不知道什么时候才能出去！",end:!0}],t}();__reflect(StoryCfg.prototype,"StoryCfg");var astar;!function(t){var e=function(){function t(){this._straightCost=1,this._diagCost=Math.SQRT2,this._heuristic=this.diagonal}return t.prototype.findPath=function(t){return this._grid=t,this._open=[],this._closed=[],this._startNode=this._grid.startNode,this._endNode=this._grid.endNode,this._startNode.g=0,this._startNode.h=this._heuristic(this._startNode),this._startNode.f=this._startNode.g+this._startNode.h,this.search()},t.prototype.search=function(){for(var t=this._startNode;t!=this._endNode;){for(var e=Math.max(0,t.x-1),n=Math.min(this._grid.numCols-1,t.x+1),i=Math.max(0,t.y-1),r=Math.min(this._grid.numRows-1,t.y+1),o=e;n>=o;o++)for(var a=i;r>=a;a++){var s=this._grid.getNode(o,a);if(s!=t&&s.walkable&&this._grid.getNode(t.x,s.y).walkable&&this._grid.getNode(s.x,t.y).walkable){var h=this._straightCost;t.x!=s.x&&t.y!=s.y&&(h=this._diagCost);var l=t.g+h*s.costMultiplier,u=this._heuristic(s),c=l+u;this.isOpen(s)||this.isClosed(s)?s.f>c&&(s.f=c,s.g=l,s.h=u,s.parent=t):(s.f=c,s.g=l,s.h=u,s.parent=t,this._open.push(s))}}for(var g=0;g<this._open.length;g++);if(this._closed.push(t),0==this._open.length)return console.log("AStar >> no path found"+this._endNode),!1;for(var f=this._open.length,p=0;f>p;p++)for(var _=p+1;f>_;_++)if(this._open[p].f>this._open[_].f){var d=this._open[p];this._open[p]=this._open[_],this._open[_]=d}t=this._open.shift()}return this.buildPath(),!0},t.prototype.buildPath=function(){this._path=new Array;var t=this._endNode;for(this._path.push(t);t!=this._startNode;)t=t.parent,this._path.unshift(t)},Object.defineProperty(t.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),t.prototype.isOpen=function(t){for(var e=0;e<this._open.length;e++)if(this._open[e]==t)return!0;return!1},t.prototype.isClosed=function(t){for(var e=0;e<this._closed.length;e++)if(this._closed[e]==t)return!0;return!1},t.prototype.manhattan=function(t){return Math.abs(t.x-this._endNode.x)*this._straightCost+Math.abs(t.y+this._endNode.y)*this._straightCost},t.prototype.euclidian=function(t){var e=t.x-this._endNode.x,n=t.y-this._endNode.y;return Math.sqrt(e*e+n*n)*this._straightCost},t.prototype.diagonal=function(t){var e=Math.abs(t.x-this._endNode.x),n=Math.abs(t.y-this._endNode.y),i=Math.min(e,n),r=e+n;return this._diagCost*i+this._straightCost*(r-2*i)},Object.defineProperty(t.prototype,"visited",{get:function(){return this._closed.concat(this._open)},enumerable:!0,configurable:!0}),t
}();t.AStar=e,__reflect(e.prototype,"astar.AStar")}(astar||(astar={}));var astar;!function(t){var e=function(){function e(e,n){this._numCols=e,this._numRows=n,this._nodes=[];for(var i=0;e>i;i++){this._nodes[i]=[];for(var r=0;n>r;r++)this._nodes[i][r]=new t.Node(i,r)}}return e.prototype.getNode=function(t,e){return this._nodes[t][e]},e.prototype.setEndNode=function(t,e){this._endNode=this._nodes[t][e]},e.prototype.setStartNode=function(t,e){this._startNode=this._nodes[t][e]},e.prototype.setWalkable=function(t,e,n){this._nodes[t][e].walkable=n},Object.defineProperty(e.prototype,"endNode",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numCols",{get:function(){return this._numCols},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numRows",{get:function(){return this._numRows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startNode",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),e}();t.Grid=e,__reflect(e.prototype,"astar.Grid")}(astar||(astar={}));var astar;!function(t){var e=function(){function t(t,e){this.walkable=!0,this.costMultiplier=1,this.x=t,this.y=e}return t}();t.Node=e,__reflect(e.prototype,"astar.Node")}(astar||(astar={}));var BitmapNumber=function(t){function e(){var e=t.call(this)||this;return e._imgPool=[],e._containerPool=[],e}return __extends(e,t),e.prototype.createNumPic=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r,o=this.getContainer(),a=t.toString(),s=0;for(s;s<a.length;s++)r=this.getSingleNumPic(a.charAt(s),e),o.addChild(r);return this.repositionNumPic(o,n,i),o},e.prototype.desstroyNumPic=function(t){this.clearContainer(t),t.parent&&t.parent.removeChild(t),this._containerPool.push(t)},e.prototype.changeNum=function(t,e,n,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var o=e.toString();if(t){if(t.numChildren>o.length)for(;t.numChildren>o.length;)this.recycleBM(t.getChildAt(t.numChildren-1));var a,s=0;for(s;s<o.length;s++)s>=t.numChildren&&t.addChild(this.getBitmap()),a=o.charAt(s),a="."==a?"dot":a,t.getChildAt(s).texture=this.getTexture(a,n);this.repositionNumPic(t,i,r)}},e.prototype.repositionNumPic=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var i,r=0,o=0;for(r;r<t.numChildren;r++)i=t.getChildAt(r),i.x=o-e,o=i.x+i.width},e.prototype.clearContainer=function(t){for(;t.numChildren;)this.recycleBM(t.getChildAt(t.numChildren-1))},e.prototype.recycleBM=function(t){t&&t.parent&&(t.parent.removeChild(t),t.texture=null,this._imgPool.push(t))},e.prototype.getContainer=function(){return this._containerPool.length?this._containerPool.shift():new egret.DisplayObjectContainer},e.prototype.getSingleNumPic=function(t,e){"."==t&&(t="dot");var n=this.getBitmap();return n.texture=this.getTexture(t,e),n},e.prototype.getTexture=function(t,e){return RES.getRes(e+t+"_png")},e.prototype.getBitmap=function(){return this._imgPool.length?this._imgPool.shift():new egret.Bitmap},e}(BaseClass);__reflect(BitmapNumber.prototype,"BitmapNumber");var MovieClip=function(t){function e(){var e=t.call(this)||this;return e.rate=1,e.pixelHitTest=!1,e._mcFactory=new egret.MovieClipDataFactory,e}return __extends(e,t),e.prototype.playFile=function(t,n,i,r,o,a,s){var h=this;if(void 0===n&&(n=1),void 0===i&&(i=null),void 0===r&&(r=!0),void 0===o&&(o=""),-1==t.indexOf("chargeff1")&&-1==t.indexOf("forceguildeff")&&-1==t.indexOf("qianghua")&&-1==t.indexOf("forgeSuccess")&&-1==t.indexOf("neigongbaozhaeff")&&-1==t.indexOf("piaodongqipaohuang")){if(this.time=egret.getTimer(),this._compFun=i,this._loadFun=a,this.playCount=n,this.remove=r,TimerManager.inst().remove(this.playComp,this),this.texture&&null==this.texture.bitmapData);else if(this.name==t)return void this.createBody(o,s);this.name=t,this.texture&&e.removeDisplayObject(this,this.texture.bitmapData),this.jsonData=null,this.texture=null,RES.getResByUrl(this.name+".json",function(t,e){h.name+".json"==e&&t&&(h.jsonData=t,h.createBody(o,s))},this,RES.ResourceItem.TYPE_JSON),RES.getResByUrl(this.name+".png",function(t,n){h.name+".png"==n&&t&&(h.texture=t,h.stage&&e.addDisplayObject(h,h.texture.bitmapData),h.createBody(o,s))},this,RES.ResourceItem.TYPE_IMAGE)}},e.prototype.$onAddToStage=function(n,i){t.prototype.$onAddToStage.call(this,n,i),this.texture&&e.addDisplayObject(this,this.texture.bitmapData)},e.prototype.$onRemoveFromStage=function(){t.prototype.$onRemoveFromStage.call(this),this.texture&&e.removeDisplayObject(this,this.texture.bitmapData)},e.prototype.createBody=function(t,n){if(void 0===t&&(t=""),this.jsonData&&this.texture){this._mcFactory.clearCache(),this._mcFactory.mcDataSet=this.jsonData,this._mcFactory.texture=this.texture;var i=this.name.split("/"),r=i.pop();this.movieClipData=this._mcFactory.generateMovieClipData(r),this.name in e.originalRate||(e.originalRate[this.name]=this.movieClipData.frameRate),this.frameRate=n?n:e.originalRate[this.name]*this.rate>>0;try{this.gotoAndPlay(t?t:1,this.playCount)}catch(o){console.warn("错误动画文件:",this.name)}if(this.playCount>0){var a=egret.getTimer()-this.time;a=this.playTime*this.playCount-a,a>0?TimerManager.inst().doTimer(a,1,this.playComp,this):this.playComp()}this._loadFun&&this._loadFun(),this.dispatchEventWith(egret.Event.CHANGE)}},e.prototype.playComp=function(){this.stage&&this._compFun&&this._compFun(),this.remove&&DisplayUtils.removeFromParent(this)},Object.defineProperty(e.prototype,"playTime",{get:function(){return this.movieClipData?1/this.frameRate*this.totalFrames*1e3:0},enumerable:!0,configurable:!0}),e.prototype.clearComFun=function(){this._compFun=null},e.prototype.dispose=function(){this.stop(),this.resetMovieClip(),this.clearComFun(),TimerManager.inst().removeAll(this)},e.prototype.destroy=function(){DisplayUtils.removeFromParent(this),this.dispose(),ObjectPool.push(this)},e.prototype.resetMovieClip=function(){var t=this;t.rotation=0,t.scaleX=1,t.scaleY=1,t.alpha=1,t.anchorOffsetX=0,t.anchorOffsetY=0,t.x=0,t.y=0,t.rate=1,t.$renderNode.cleanBeforeRender(),t._mcFactory.clearCache(),t._mcFactory.mcDataSet=null,t._mcFactory.texture=null,t.name=null,t.jsonData=null,t.filters=null;var n=t.texture;n&&e.removeDisplayObject(t,n.bitmapData),t.texture=null,t.remove=!1,egret.Tween.removeTweens(t)},e.addDisplayObject=function(t,n){if(n){var i=n.hashCode;if(!e.displayList[i])return void(e.displayList[i]=[t]);var r=e.displayList[i];r.indexOf(t)<0&&r.push(t)}},e.removeDisplayObject=function(t,n){if(n){var i=n.hashCode;if(e.displayList[i]){var r=e.displayList[i],o=r.indexOf(t);o>=0&&r.splice(o,1),0==r.length&&delete e.displayList[i]}}},e.originalRate={},e.displayList=egret.createMap(),e}(egret.MovieClip);__reflect(MovieClip.prototype,"MovieClip");var ActionState=function(){function t(){}return t.RUN="run",t.ATTACK="attack",t.DEAD="dead",t.STAND="stand",t.HIT="hit",t}();__reflect(ActionState.prototype,"ActionState");var ActionEnum;!function(t){t[t.run=0]="run",t[t.attack=1]="attack",t[t.dead=2]="dead",t[t.stand=3]="stand"}(ActionEnum||(ActionEnum={}));var EntityType;!function(t){t[t.enemy=0]="enemy",t[t.energy=1]="energy"}(EntityType||(EntityType={}));var DirectionEnum;!function(t){t[t.TOP=1]="TOP",t[t.TR=2]="TR",t[t.RIGHT=3]="RIGHT",t[t.RB=4]="RB",t[t.BOTTOM=5]="BOTTOM"}(DirectionEnum||(DirectionEnum={}));var SoldierType;!function(t){t[t.SOLDIER_QIANG=0]="SOLDIER_QIANG",t[t.SOLDIER_DAO=1]="SOLDIER_DAO",t[t.SOLDIER_QI=2]="SOLDIER_QI",t[t.SOLDIER_GONG=3]="SOLDIER_GONG",t[t.SOLDIER_TOUSHICHE=4]="SOLDIER_TOUSHICHE"}(SoldierType||(SoldierType={}));var LocalStorageEnum=function(){function t(){}return t.ROLE_JOB="role_job",t.ROLE_NAME="roleName",t.GOLD_NUM="goldNum",t.LEVEL_NUM="levelName",t.HEAD_ICON="headIcon",t.ENTER_FIRST="first",t.ROLE_EXP="role_exp",t.ROLE_MAIN_EXP="role_main_exp",t.GOODS_NUM="goodsNum",t.GOODS="goods",t.TRAINREMINTIME="trainReminTime",t.TRAIN_EXP="train_exp",t.TRAIN_STATE="train_state",t.CAMP="camp",t.ANSWER_COUNT="answer_count",t.ANSWER_TIMESPAN="answer_timespan",t.MARKET_INFO="market_info",t.FIELD_INFO="field_info",t.LEVEL="level",t.GENERAL_GET="general_get",t.STUDY_BUFF1_LEVEL="study_buff1_level",t.STUDY_BUFF2_LEVEL="study_buff2_level",t.STUDY_BUFF3_LEVEL="study_buff3_level",t.POWER="power",t}();__reflect(LocalStorageEnum.prototype,"LocalStorageEnum");var RES_RESOURCE="resource/",COMMON_DIR="resource/res/common/",EFFECT="resource/res/animate/",ITEM="resource/res/item/",MAP_DIR=RES_RESOURCE+"map/",CFG_DIR=RES_RESOURCE+"config/",SKILL_EFF=EFFECT+"skill/",EFFROLESHOW=EFFECT+"show/",SOLDIER=EFFECT+"soldier/",DEFAULT_FONT=RES_RESOURCE+"res/font/yt.ttf",ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,n,i){function r(t){e.call(i,t)}function o(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),n.call(i))}var a=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(i,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(t,n){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(i,generateEUI2)},a)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var s=t.split("/");s.pop();var h=s.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(i,generateJSON.paths[t])},this):RES.getResByUrl(h,function(n){window.JSONParseClass.setData(n),egret.callLater(function(){e.call(i,generateJSON.paths[t])},a)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(i,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),RES.getResByUrl(t,r,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var VJEvent=function(t){function e(e,n,i,r){void 0===n&&(n=!1),void 0===i&&(i=null),void 0===r&&(r=!1);var o=t.call(this,e,n,r)||this;return o.data=i,o}return __extends(e,t),e.VJ_START="vj_start",e.VJ_END="vj_end",e.VJ_MOVE="vj_move",e}(egret.Event);__reflect(VJEvent.prototype,"VJEvent");var FriendView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.friend_1.source=RES.getRes("friend_btn1_png"),this.friend_2.source=RES.getRes("friend_btn2_png"),this.friend_3.source=RES.getRes("friend_btn2_png"),this.friend_4.source=RES.getRes("friend_btn2_png"),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e.prototype.touchHandler=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)switch(t.target){case this.friend_1:this.friend_1.source=RES.getRes("friend_btn1_png"),this.friend_2.source=RES.getRes("friend_btn2_png"),this.friend_3.source=RES.getRes("friend_btn2_png"),this.friend_4.source=RES.getRes("friend_btn2_png");break;case this.friend_2:this.friend_1.source=RES.getRes("friend_btn2_png"),this.friend_2.source=RES.getRes("friend_btn1_png"),this.friend_3.source=RES.getRes("friend_btn2_png"),this.friend_4.source=RES.getRes("friend_btn2_png");break;case this.friend_3:this.friend_1.source=RES.getRes("friend_btn2_png"),this.friend_2.source=RES.getRes("friend_btn2_png"),this.friend_3.source=RES.getRes("friend_btn1_png"),this.friend_4.source=RES.getRes("friend_btn2_png");break;case this.friend_4:this.friend_1.source=RES.getRes("friend_btn2_png"),this.friend_2.source=RES.getRes("friend_btn2_png"),this.friend_3.source=RES.getRes("friend_btn2_png"),this.friend_4.source=RES.getRes("friend_btn1_png");break;case this.friend_close:ViewManager.inst().close(e)}},e.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e}(BaseEuiView);__reflect(FriendView.prototype,"FriendView"),ViewManager.inst().reg(FriendView,LayerManager.UI_Main);var IBaseEuiView=function(){function t(){}return t}();__reflect(IBaseEuiView.prototype,"IBaseEuiView");var DelayOptManager=function(t){function e(){var e=t.call(this)||this;return e.TIME_THRESHOLD=2,e._delayOpts=[],egret.startTick(e.runCachedFun,e),e}return __extends(e,t),e.inst=function(){var t=this.single();return t},e.prototype.addDelayOptFunction=function(t,e,n,i,r){this._delayOpts.push({fun:e,funPara:n,thisObj:t,callBack:i,para:r})},e.prototype.clear=function(){this._delayOpts.length=0},e.prototype.runCachedFun=function(t){if(0==this._delayOpts.length)return!1;for(var e,n=egret.getTimer();this._delayOpts.length&&(e=this._delayOpts.shift(),e.funPara?e.fun.call(e.thisObj,e.funPara):e.fun.call(e.thisObj),e.callBack&&(void 0!=e.para?e.callBack.call(e.thisObj,e.para):e.callBack()),!(egret.getTimer()-n>this.TIME_THRESHOLD)););return!1},e}(BaseClass);__reflect(DelayOptManager.prototype,"DelayOptManager");var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,n){function i(i){e.call(n,i,t)}if(RES.hasRes(t)){var r=RES.getRes(t);r?i(r):RES.getResAsync(t,i,this)}else RES.getResByUrl(t,i,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var MessageManager=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.inst=function(){var t=this.single();return t},e.prototype.dispatch=function(t,e){var n=new CustomEvt(t,e);StageUtils.inst().getStage().dispatchEvent(n)},e.prototype.addListener=function(t,e,n){StageUtils.inst().getStage().addEventListener(t,e,n)},e.prototype.removeListener=function(t,e,n){StageUtils.inst().getStage().removeEventListener(t,e,n)},e}(BaseClass);__reflect(MessageManager.prototype,"MessageManager");var ObjectPool=function(){function t(){this._objs=new Array}return t.prototype.pushObj=function(t){this._objs.push(t)},t.prototype.popObj=function(){return this._objs.length>0?this._objs.pop():null},t.prototype.clear=function(){for(;this._objs.length>0;)this._objs.pop()},t.pop=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];t._content[e]||(t._content[e]=[]);var r=t._content[e];if(r.length){var o=r.pop();return o}var a=egret.getDefinitionByName(e),s=n.length,h=void 0;return 0==s?h=new a:1==s?h=new a(n[0]):2==s?h=new a(n[0],n[1]):3==s?h=new a(n[0],n[1],n[2]):4==s?h=new a(n[0],n[1],n[2],n[3]):5==s&&(h=new a(n[0],n[1],n[2],n[3],n[4])),h.ObjectPoolKey=e,h},t.popWithExtraKey=function(e,n){t._content[e]||(t._content[e]=[]);var i,r=t._content[e];if(r.length)for(var o=0;o<r.length;o++)if(r[o].extraKey==n){i=r[o],r.splice(o,1);break}if(!i){var a=egret.getDefinitionByName(e);i=new a(n),i.extraKey=n,i.ObjectPoolKey=e}return i},t.push=function(e){if(null==e)return!1;var n=e.ObjectPoolKey;return!t._content[n]||t._content[n].indexOf(e)>-1?!1:(t._content[n].push(e),!0)},t.clear=function(){t._content={}},t.clearClass=function(e,n){void 0===n&&(n=null);for(var i=t._content[e];i&&i.length;){var r=i.pop();n&&r[n](),r=null}t._content[e]=null,delete t._content[e]},t.dealFunc=function(e,n){var i=t._content[e];if(null!=i){var r=0,o=i.length;for(r;o>r;r++)i[r][n]()}},t._content={},t}();__reflect(ObjectPool.prototype,"ObjectPool");var TimerManager=function(t){function e(){var e=t.call(this)||this;return e.currHandler=null,e._handlers=[],e.nexthandles=null,e._currTime=egret.getTimer(),e._currFrame=0,egret.startTick(e.onEnterFrame,e),e}return __extends(e,t),e.inst=function(){var e=t.single.call(this);return e},e.prototype.getFrameId=function(){return this._currFrame},e.prototype.getCurrTime=function(){return this._currTime},e.binFunc=function(t,e){return t.exeTime>e.exeTime?-1:t.exeTime<e.exeTime?1:0},e.DeleteHandle=function(t){t.clear(),ObjectPool.push(t)},e.prototype.onEnterFrame=function(t){this._currFrame++,this._currTime=egret.getTimer();var n=0,i=this.nexthandles;if(this.nexthandles=null,i&&i.length>0){for(var r=0,o=i;r<o.length;r++){var a=o[r];a.method.call(a.methodObj),e.DeleteHandle(a)}i=null}if(this._handlers.length<=0)return!1;for(var s=this._handlers[this._handlers.length-1];s.exeTime<=this._currTime;){this.currHandler=s=this._handlers.pop(),s.method.call(s.methodObj),n=egret.getTimer(),s.exeTime=n+s.delay;var h=s.forever;if(h||(s.repeatCount>1?(s.repeatCount--,h=!0):s.onFinish&&s.onFinish.apply(s.finishObj)),h){var l=Algorithm.binSearch(this._handlers,s,e.binFunc);this._handlers.splice(l,0,s)}else e.DeleteHandle(s);if(n-this._currTime>5)break;if(this._handlers.length<=0)break;s=this._handlers[this._handlers.length-1]}return this.currHandler=null,!1},e.prototype.create=function(t,n,i,r,o,a,s){if(!(0>n||0>i||null==r)){var h=ObjectPool.pop("TimerHandler");h.forever=0==i,h.repeatCount=i,h.delay=n,h.method=r,h.methodObj=o,h.onFinish=a,h.finishObj=s,h.exeTime=t+this._currTime;var l=Algorithm.binSearch(this._handlers,h,e.binFunc);this._handlers.splice(l,0,h)}},e.prototype.doTimer=function(t,e,n,i,r,o){void 0===r&&(r=null),void 0===o&&(o=null),this.create(t,t,e,n,i,r,o)},e.prototype.doTimerDelay=function(t,e,n,i,r,o,a){void 0===o&&(o=null),void 0===a&&(a=null),this.create(t,e,n,i,r,o,a)},e.prototype.doNext=function(t,e){var n=ObjectPool.pop("TimerHandler");n.method=t,n.methodObj=e,this.nexthandles||(this.nexthandles=[]),this.nexthandles.push(n)},e.prototype.remove=function(t,n){var i=this.currHandler;i&&i.method==t&&i.methodObj==n&&(i.forever=!1,i.repeatCount=0);for(var r=this._handlers.length-1;r>=0;r--){var o=this._handlers[r];o.method==t&&o.methodObj==n&&(this._handlers.splice(r,1),e.DeleteHandle(o))}},e.prototype.removeAll=function(t){var n=this.currHandler;n&&n.methodObj==t&&(n.forever=!1,n.repeatCount=0);for(var i=this._handlers.length-1;i>=0;i--){var r=this._handlers[i];r.methodObj==t&&(this._handlers.splice(i,1),e.DeleteHandle(r))}},e.prototype.isExists=function(t,e){for(var n=0,i=this._handlers;n<i.length;n++){var r=i[n];if(r.method==t&&r.methodObj==e)return!0}return!1},e}(BaseClass);__reflect(TimerManager.prototype,"TimerManager");var TimerHandler=function(){function t(){this.delay=0,this.forever=!1,this.repeatCount=0,this.exeTime=0}return t.prototype.clear=function(){this.method=null,this.methodObj=null,this.onFinish=null,this.finishObj=null,this.forever=!1},t}();__reflect(TimerHandler.prototype,"TimerHandler");var BaseEntity=function(t){function e(){var e=t.call(this)||this;return e._dic=3,e._hp=40,e._thp=40,e._attack=20,e._changeValue=.1,e._isDead=!1,e.buffAttack=0,e.buffHp=0,e.buffDef=0,e.initialize(),e}return __extends(e,t),e.prototype.initialize=function(){},Object.defineProperty(e.prototype,"camp",{get:function(){return this._camp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instId",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dic",{get:function(){return this._dic},set:function(t){this._dic=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attack",{get:function(){var t=100*Math.random()>>0,e=t>=50?1:-1;return this._attack+this.buffAttack+e*((this._attack+this.buffAttack)*this._changeValue)},set:function(t){this._attack=t},enumerable:!0,configurable:!0}),e.prototype.reduceHp=function(t){this.buffHp>0?this.buffHp-=t:(this._hp-=t-this.buffDef,this._hp<=0&&(this._hp=0,this._isDead=!0))},e.prototype.dispose=function(){},e}(eui.Component);__reflect(BaseEntity.prototype,"BaseEntity");var GameMap=function(){function t(){}return t.init=function(e){var n=e.grids;t.grid=[],t.runGrid=[],t.CELL_SIZE=e.gridw,t.MAX_WIDTH=e.pixwidth,t.MAX_HEIGHT=e.pixheight,t.COL=e.cols,t.ROW=e.rows,this.AstarNode=new astar.Grid(e.cols,e.rows);for(var i=0;i<e.rows;i++){t.grid[i]=[];for(var r=0;r<e.cols;r++){if(t.grid[i][r]=n[i*e.cols+r],1==t.grid[i][r]){var o={row:i,col:r};t.runGrid.push(o)}0==t.grid[i][r]&&this.AstarNode.setWalkable(r,i,!1)}}},t.point2Grid=function(e,n){var i=e/t.CELL_SIZE>>0,r=n/t.CELL_SIZE>>0;return{x:i,y:r}},t.grid2Point=function(e,n){var i=e*t.CELL_SIZE,r=n*t.CELL_SIZE;return{x:i,y:r}},t.calculBuildGridArea=function(e){for(var n=Math.ceil(e.width/t.CELL_SIZE),i=Math.ceil(e.height/t.CELL_SIZE),r=[],o=t.point2Grid(e.x,e.y),a=0;n>a;a++)for(var s=0;i>s;s++){var h={x:o.x+a,y:o.y+s};r.push(h)}return r},t.walkable=function(e,n){if(!t.grid[e])return null;if(isNaN(t.grid[e][n]))return null;var i=t.grid[e][n];return 3==i?null:i},t.buildTouch=!1,t.grid=[],t.runGrid=[],t}();__reflect(GameMap.prototype,"GameMap");var MapView=function(t){function e(){var e=t.call(this)||this;return e.initia=!1,e.speed=200,e}return __extends(e,t),e.inst=function(){var e=t.single.call(this);return e},e.prototype.initMap=function(t){if(!this.initia){this.initia=!0,this._mapImage=new MapViewBg,LayerManager.MAP_LAYER.addChild(this._mapImage),this._itemLayer=new egret.DisplayObjectContainer,LayerManager.MAP_LAYER.addChild(this._itemLayer),t&&this.drawTestGrid();var e=new egret.Shape;e.graphics.beginFill(16711680),e.graphics.drawRect(0,0,50,50),e.anchorOffsetX=e.anchorOffsetY=25,e.graphics.endFill(),LayerManager.MAP_LAYER.addChild(e),e.x=e.y=200,this.startRoleClickMove(e)}},e.prototype.startRoleClickMove=function(t){this.hero=t,LayerManager.MAP_LAYER.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onMapTouch,this)},e.prototype.onMapTouch=function(t){var e=LayerManager.MAP_LAYER.globalToLocal(t.stageX,t.stageY),n=GameMap.point2Grid(e.x,e.y),i=this.findPath(n.x,n.y);i&&(this._path=i,this._path&&this._path.length&&(this._path.shift(),this._path.length&&(egret.Tween.removeTweens(this.hero),this.execMove(this._path.shift()))))},e.prototype.execMove=function(t){var e=this,n=t.x,i=t.y,r=GameMap.grid2Point(n,i),o=this.hero.x,a=this.hero.y;egret.Tween.get(this.hero,{loop:!1,onChange:function(){if(!e.juageIfInXBorder()){var t=e.hero.x-o;LayerManager.MAP_LAYER.x-=t,o=e.hero.x}if(e.judageMapImgX(),!e.juageIfInYBorder()){var n=e.hero.y-a;LayerManager.MAP_LAYER.y-=n,a=e.hero.y}e.judageMapImgY()},onChangeObj:this}).to({x:r.x,y:r.y},this.speed).call(function(){egret.Tween.removeTweens(e.hero),e._path&&e._path.length&&e.execMove(e._path.shift())})},e.prototype.findPath=function(t,e){GameMap.AstarNode.setEndNode(t,e);var n=GameMap.point2Grid(this.hero.x,this.hero.y);GameMap.AstarNode.setStartNode(n.x,n.y);var i=new astar.AStar;if(i.findPath(GameMap.AstarNode)){var r=i.path;return r}return null},e.prototype.resetMapviewPort=function(){LayerManager.MAP_LAYER.y=0,LayerManager.MAP_LAYER.x=0},e.prototype.juageIfInXBorder=function(){return this.hero.x<=StageUtils.inst().getWidth()>>1||this.hero.x>=GameMap.MAX_WIDTH-(StageUtils.inst().getWidth()>>1)},e.prototype.juageIfInYBorder=function(){return this.hero.y<=StageUtils.inst().getHeight()>>1||this.hero.y>=GameMap.MAX_HEIGHT-(StageUtils.inst().getHeight()>>1)},e.prototype.judageMapImgX=function(){LayerManager.MAP_LAYER.x<-(GameMap.MAX_WIDTH-StageUtils.inst().getWidth())&&(LayerManager.MAP_LAYER.x=-(GameMap.MAX_WIDTH-StageUtils.inst().getWidth())),LayerManager.MAP_LAYER.x>0&&(LayerManager.MAP_LAYER.x=0)},e.prototype.judageMapImgY=function(){LayerManager.MAP_LAYER.y<-(GameMap.MAX_HEIGHT-StageUtils.inst().getHeight())&&(LayerManager.MAP_LAYER.y=-(GameMap.MAX_HEIGHT-StageUtils.inst().getHeight())),LayerManager.MAP_LAYER.y>0&&(LayerManager.MAP_LAYER.y=0)},e.prototype.drawTestGrid=function(){this._shapeContainer=new egret.DisplayObjectContainer,this._shapeContainer.cacheAsBitmap=!0,this._shapeContainer.touchEnabled=!1,this._shapeContainer.touchChildren=!1;for(var t=GameMap.COL,e=GameMap.ROW,n=0;e>n;n++)for(var i=0;t>i;i++)if(!GameMap.walkable(n,i)){var r=new egret.Shape;r.graphics.clear(),r.graphics.lineStyle(.1),r.graphics.beginFill(16711680,.3),r.graphics.drawRect(i*GameMap.CELL_SIZE,n*GameMap.CELL_SIZE,GameMap.CELL_SIZE,GameMap.CELL_SIZE),r.graphics.endFill();var o=new eui.Label;o.size=12,o.text=i+","+n,o.x=i*GameMap.CELL_SIZE,o.y=n*GameMap.CELL_SIZE,this._shapeContainer.addChild(r),this._shapeContainer.addChild(o)}LayerManager.MAP_LAYER.addChild(this._shapeContainer)},e}(BaseClass);__reflect(MapView.prototype,"MapView");var MapViewBg=function(t){function e(){var e=t.call(this)||this;return e._shape=new egret.Shape,e.lastUpdateX=0,e.lastUpdateY=0,e.turn=0,e.touchChildren=!1,e.touchEnabled=!1,e._imageList=[],e.showImages=[],e._poolImages=[],e._fileDic={},e.updateHDMap(MAP_DIR+"/"),e}return __extends(e,t),e.prototype.clearHDMap=function(){this._imageList=[],this.showImages=[],this.removeChildren()},e.prototype.getImage=function(){return this._poolImages.pop()||new eui.Image},e.prototype.updateHDMap=function(t){this.clear();var e=256;this.maxImagX=Math.ceil(GameMap.MAX_WIDTH/e),this.maxImagY=Math.ceil(GameMap.MAX_HEIGHT/e);for(var n=0;n<this.maxImagX;n++)for(var i=0;i<this.maxImagY;i++){var r=""+t+n+"_"+i+".jpg",o=this.getImage();o.source=r,o.name=r,o.x=n*e,o.y=i*e,this.addChild(o)}},e.prototype.clear=function(){this.clearHDMap()},e}(egret.DisplayObjectContainer);__reflect(MapViewBg.prototype,"MapViewBg");var PoCong=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this),MessageManager.inst().addListener(CustomEvt.GUIDE_CLICK_PUCONG_LIST,this.onlistTouch,this),GlobalFun.guideToNext(this.pocong_item2,this.pocong_item2.width,this.pocong_item2.height)},e.prototype.onlistTouch=function(){ViewManager.inst().close(e),ViewManager.inst().open(PoCongShow)},e.prototype.onMove=function(){},e.prototype.touchHandler=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)switch(t.target){case this.pocong_tujian:ViewManager.inst().open(PoCongTu);break;case this.friend_close:ViewManager.inst().close(e);break;case this.image_1:ViewManager.inst().open(PoCongShow);break;case this.pocong_item2:ViewManager.inst().open(PoCongShow)}},e.prototype.close=function(){MessageManager.inst().removeListener(CustomEvt.GUIDE_CLICK_PUCONG_LIST,this.onlistTouch,this)},e}(BaseEuiView);__reflect(PoCong.prototype,"PoCong"),ViewManager.inst().reg(PoCong,LayerManager.UI_Main);var PoCongShow=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.status=!1,e}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.pocong_dui.visible=!1,this.label_name.text="明湘  "+(GameApp.ji_state+1)+"级",this.label.text="升"+GameApp.ji_state+"级",this.friend_close.autoSize(),this.friend_btn1.autoSize(),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this),MessageManager.inst().addListener(CustomEvt.GUIDE_CLICK_PUCONG_UPDATE,this.onUpgrade,this),MessageManager.inst().addListener(CustomEvt.GUIDE_CLICK_CLOSE_PUCONG,this.onClose,this),GlobalFun.guideToNext(this.friend_btn1,this.friend_btn1.width,this.friend_btn1.height)},e.prototype.onUpgrade=function(){GameApp.ji_state++,GameApp.ji_state>=9||(this.label_name.text="明湘  "+(GameApp.ji_state+1)+"级",this.label.text="升"+GameApp.ji_state+"级",UserTips.inst().showTips("提升成功")),GlobalFun.guideToNext(this.friend_close,this.friend_close.width,this.friend_close.height)},e.prototype.onClose=function(){ViewManager.inst().close(e),GlobalFun.guideToNext()},e.prototype.onMove=function(){},e.prototype.touchHandler=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)switch(t.target){case this.pocong_tujian:break;case this.friend_close:ViewManager.inst().close(e);break;case this.image_1:break;case this.pocong_item2:break;case this.friend_btn1:GameApp.ji_state++,GameApp.ji_state>=9||(this.label_name.text="明湘  "+(GameApp.ji_state+1)+"级",this.label.text="升"+GameApp.ji_state+"级");break;case this.pocong_11:this.status?(this.status=!1,this.pocong_dui.visible=!1):(this.status=!0,this.pocong_dui.visible=!0)}},e.prototype.close=function(){MessageManager.inst().removeListener(CustomEvt.GUIDE_CLICK_PUCONG_UPDATE,this.onUpgrade,this),MessageManager.inst().removeListener(CustomEvt.GUIDE_CLICK_CLOSE_PUCONG,this.onClose,this)},e}(BaseEuiView);__reflect(PoCongShow.prototype,"PoCongShow"),ViewManager.inst().reg(PoCongShow,LayerManager.UI_Main);var PoCongTu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.array_obj=["明湘","林阴","雅风","赵碧桃","墨青","柳如师","浅浅","昭君","苏瑜","玲儿"],e}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.dataList=new eui.ArrayCollection;for(var n=[],i=0;10>i;i++){var r={};r.name=this.array_obj[i],r.num=i+1,0==i?r.state=1:r.state=2,n.push(r)}this.list.itemRenderer=PoCongTuItem,this.dataList.source=n,this.list.dataProvider=this.dataList,this.scroller.verticalScrollBar.autoVisibility=!1,this.scroller.verticalScrollBar.visible=!1,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e.prototype.onMove=function(){},e.prototype.touchHandler=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)switch(t.target){case this.pocong_tujian:break;case this.friend_close:ViewManager.inst().close(e);break;case this.roleinfo_login2:}},e.prototype.close=function(){},e}(BaseEuiView);__reflect(PoCongTu.prototype,"PoCongTu"),ViewManager.inst().reg(PoCongTu,LayerManager.UI_Main);var PoCongTuItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="PoCongTuItemSkin",e.addEventListener(eui.UIEvent.CREATION_COMPLETE,e.initComponent,e),e}return __extends(e,t),e.prototype.initComponent=function(){this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.initComponent,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.buy_Good,this)},e.prototype.onMove=function(){},e.prototype.buy_Good=function(){},e.prototype.dataChanged=function(){this.label_1.text=this.data.name,this.image_1.source=RES.getRes("follower_"+this.data.num+"_png"),1==this.data.state?(this.pocong_item2.source=RES.getRes("pocong_item2_png"),this.pocong_quan.visible=!1,this.label_2.visible=!1):this.pocong_item2.source=RES.getRes("pocong_item1_png")},e.prototype.touchHandler=function(t){t.type==egret.TouchEvent.TOUCH_TAP&&t.target},e.prototype.close=function(){},e}(eui.ItemRenderer);__reflect(PoCongTuItem.prototype,"PoCongTuItem");var Algorithm=function(){function t(){}return t.sortAsc=function(t,e){return e>t?-1:t>e?1:0},t.sortAscAttr=function(e,n,i){var r;if(void 0==i)r=t.sortAsc(e,n);else{var o=e[i],a=n[i];r=a>o?-1:o>a?1:0}return r},t.sortDesc=function(t,e){return t>e?-1:e>t?1:0},t.sortDescAttr=function(e,n,i){var r;if(void 0==i)r=t.sortDesc(e,n);else{var o=e[i],a=n[i];r=o>a?-1:a>o?1:0}return r},t.binSearch=function(e,n,i){if(void 0===i&&(i=null),!e||0==e.length)return 0;i||(i=t.sortAsc);for(var r=0,o=e.length-1;o>=r;){var a=o+r>>1,s=e[a];i(s,n)<=0?r=a+1:o=a-1}return r},t.test=function(){for(var e=[],n=10,i=0;n>i;i++){var r=Math.floor(1e5*Math.random()),o=t.binSearch(e,r);e.splice(o,0,r)}e.length!=n&&debug.log("test fail!count is "+e.length+", except:"+n);for(var a=0,s=e;a<s.length;a++){var h=s[a];debug.log(h)}for(var i=0;i<e.length-1;i++)if(e[i]>e[i+1]){debug.log("test fail!index:"+i);break}},t}();__reflect(Algorithm.prototype,"Algorithm");var AverageUtils=function(){function t(t){void 0===t&&(t=10),this.nums=[],this.numsLen=0,this.numSum=0,this.maxNum=t}return t.prototype.push=function(t){this.numsLen>this.maxNum&&(this.numsLen--,this.numSum-=this.nums.shift()),this.nums.push(t),this.numSum+=t,this.numsLen++},t.prototype.getValue=function(){return this.numSum/this.numsLen},t.prototype.clear=function(){this.nums.splice(0),this.numsLen=0,this.numSum=0},t}();__reflect(AverageUtils.prototype,"AverageUtils");var Base64=function(){function t(){}return t.base64encode=function(t){var e,n,i,r,o,a;for(i=t.length,n=0,e="";i>n;){if(r=255&t.charCodeAt(n++),n==i){e+=this.base64EncodeChars.charAt(r>>2),e+=this.base64EncodeChars.charAt((3&r)<<4),e+="==";break}if(o=t.charCodeAt(n++),n==i){e+=this.base64EncodeChars.charAt(r>>2),e+=this.base64EncodeChars.charAt((3&r)<<4|(240&o)>>4),e+=this.base64EncodeChars.charAt((15&o)<<2),e+="=";break}a=t.charCodeAt(n++),e+=this.base64EncodeChars.charAt(r>>2),e+=this.base64EncodeChars.charAt((3&r)<<4|(240&o)>>4),e+=this.base64EncodeChars.charAt((15&o)<<2|(192&a)>>6),e+=this.base64EncodeChars.charAt(63&a)}return e},t.base64decode=function(t){var e,n,i,r,o,a,s;for(a=t.length,o=0,s="";a>o;){do e=this.base64DecodeChars[255&t.charCodeAt(o++)];while(a>o&&-1==e);if(-1==e)break;do n=this.base64DecodeChars[255&t.charCodeAt(o++)];while(a>o&&-1==n);if(-1==n)break;
s+=String.fromCharCode(e<<2|(48&n)>>4);do{if(i=255&t.charCodeAt(o++),61==i)return s;i=this.base64DecodeChars[i]}while(a>o&&-1==i);if(-1==i)break;s+=String.fromCharCode((15&n)<<4|(60&i)>>2);do{if(r=255&t.charCodeAt(o++),61==r)return s;r=this.base64DecodeChars[r]}while(a>o&&-1==r);if(-1==r)break;s+=String.fromCharCode((3&i)<<6|r)}return s},t.base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.base64DecodeChars=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],t}();__reflect(Base64.prototype,"Base64");var ColorUtil=function(){function t(){}return t.mergeARGB=function(t,e,n,i){return t<<24|e<<16|n<<8|i},t.getChannel=function(t,e){switch(e){case this.ALPHA:return t>>24&255;case this.RED:return t>>16&255;case this.GREEN:return t>>8&255;case this.BLUE:return 255&t}return 0},t.numberToString=function(t,e){return void 0===e&&(e="#"),e+t.toString(16)},t.ALPHA=4080082432,t.RED=15937822,t.GREEN=3532333,t.BLUE=255,t.NORMAL_COLOR=13746831,t.RED_COLOR_N=15937822,t.GREEN_COLOR_N=3532333,t.GRAY_COLOR2=8618883,t.WHITE_COLOR2=13746831,t.WHITE_COLOR="#D1C28F",t.RED_COLOR="#F3311E",t.GREEN_COLOR="#35E62D",t.GRAY_COLOR="#8B898B",t.COLOR_STR=["white","green","purple","orange","red","golden"],t.ROLENAME_COLOR_YELLOW=16764427,t.ROLENAME_COLOR_GREEN=3532333,t.ROLENAME_COLOR_NORMAL=3532333,t.JUEWEI_COLOR=["#e2dfd4","#35e62d","#81adff","#e27dff","#ff9649","#fc5959","#ffd93f","#ffff00"],t}();__reflect(ColorUtil.prototype,"ColorUtil");var DateStyle=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.format=[],o.from=0,o.to=0,o.isFormatNum=!1,o.format=e,o.from=n,o.to=i,o.isFormatNum=r,o}return __extends(e,t),e}(BaseClass);__reflect(DateStyle.prototype,"DateStyle");var DateUtils=function(){function t(){}return t.getFormatTimeByStyle=function(e,n){if(void 0===n&&(n=t.STYLE_1),0>e&&(e=0,debug.log("输入参数有误!时间为负数:"+e)),n.from>n.to)return debug.log("输入参数有误!to参数必须大于等于from参数,请检查style参数的值"),"";e>>=0;for(var i="",r=n.to;r>=n.from;r--){var o=e/this.mul[r],a="";r!=n.to&&(o%=this.mod[r]),a=n.isFormatNum&&10>o?"0"+(o>>0).toString():(o>>0).toString(),i+=a+n.format[r]}return i},t.getFormatTimeByStyle1=function(e,n){return void 0===n&&(n=t.STYLE_1),this.getFormatTimeByStyle(e/this.MS_PER_SECOND)},t.formatMiniDateTime=function(e){return t.MINI_DATE_TIME_BASE+(2147483647&e)*t.MS_PER_SECOND},t.formatServerTime=function(e){return(e-t.MINI_DATE_TIME_BASE)/t.MS_PER_SECOND},t.getFormatBySecond=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=2);var i="",r=1e3*t;switch(e){case this.TIME_FORMAT_1:i=this.format_1(r);break;case this.TIME_FORMAT_2:i=this.format_2(r);break;case this.TIME_FORMAT_3:i=this.format_3(r);break;case this.TIME_FORMAT_4:i=this.format_4(r);break;case this.TIME_FORMAT_5:i=this.format_5(r,n);break;case this.TIME_FORMAT_6:i=this.format_6(r);break;case this.TIME_FORMAT_7:i=this.format_7(r);break;case this.TIME_FORMAT_8:i=this.format_8(r);break;case this.TIME_FORMAT_9:i=this.format_9(r);break;case this.TIME_FORMAT_10:i=this.format_10(r);break;case this.TIME_FORMAT_11:i=this.format_11(r);break;case this.TIME_FORMAT_12:i=this.format_12(r);break;case this.TIME_FORMAT_13:i=this.format_13(r);break;case this.TIME_FORMAT_14:i=this.format_14(r);break;case this.TIME_FORMAT_15:i=this.format_15(r)}return i},t.getRenainSecond=function(e){var n=e?new Date(e):new Date,i=t.getTodayZeroSecond(n)+86400-n.getTime()/1e3;return i.toFixed(0)},t.getTodayPassedSecond=function(){var t=new Date,e=((Date.now()-new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime())/1e3).toFixed(0);return parseInt(e)},t.getTodayZeroSecond=function(t){var e=t?t:new Date;return parseInt((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()/1e3).toFixed(0))},t.showWeekFirstDay=function(){var t=new Date,e=t.getDay();e=e?e:7;var n=new Date(t-864e5*(e-1));return n},t.showWeekLastDay=function(){var e=(new Date,t.showWeekFirstDay()),n=new Date(1e3*(e/1e3+518400));return n},t.calcWeekFirstDay=function(){var t=new Date,e=t.getDay();e=e>0?e:7;var n=7-e,i=t.getHours(),r=t.getMinutes(),o=t.getSeconds(),a=86400*n*1e3+864e5-(3600*i*1e3+60*r*1e3+1e3*o);return new Date(a)},t.format_1=function(e){var n=0,i="##:##:##";return n=Math.floor(e/t.MS_PER_HOUR),i=i.replace("##",t.formatTimeNum(n)),n&&(e-=n*t.MS_PER_HOUR),n=Math.floor(e/t.MS_PER_MINUTE),i=i.replace("##",t.formatTimeNum(n)),n&&(e-=n*t.MS_PER_MINUTE),n=Math.floor(e/1e3),i=i.replace("##",t.formatTimeNum(n))},t.format_2=function(t){var e=new Date(t),n=e.getFullYear(),i=e.getMonth()+1,r=e.getDate(),o=e.getHours(),a=e.getMinutes(),s=e.getSeconds();return n+"-"+i+"-"+r+" "+o+":"+a+":"+s},t.format_3=function(t){var e=this.format_1(t),n=e.split(":");return n[1]+":"+n[2]},t.format_4=function(t){return t<this.MS_PER_HOUR?Math.floor(t/this.MS_PER_MINUTE)+"分钟前":t<this.MS_PER_DAY?Math.floor(t/this.MS_PER_HOUR)+"小时前":Math.floor(t/this.MS_PER_DAY)+"天前"},t.format_5=function(t,e){void 0===e&&(e=2);var n="",i=["天","时","分","秒"],r=[],o=Math.floor(t/this.MS_PER_DAY);r.push(o),t-=o*this.MS_PER_DAY;var a=Math.floor(t/this.MS_PER_HOUR);r.push(a),t-=a*this.MS_PER_HOUR;var s=Math.floor(t/this.MS_PER_MINUTE);r.push(s),t-=s*this.MS_PER_MINUTE;var h=Math.floor(t/1e3);r.push(h);for(var l in r)if(r[l]>0&&(n+=this.formatTimeNum(r[l],Number(l))+i[l],e--,0>=e))break;return n},t.format_6=function(t){var e=new Date(t),n=e.getHours(),i=e.getMinutes(),r=e.getSeconds();return this.formatTimeNum(n)+":"+this.formatTimeNum(i)+":"+this.formatTimeNum(r)},t.format_7=function(t){return t<this.MS_PER_HOUR?"<1小时":t<this.MS_PER_DAY?Math.floor(t/this.MS_PER_HOUR)+"小时":Math.floor(t/this.MS_PER_DAY)+"天"},t.format_8=function(t){var e=new Date(t),n=e.getFullYear(),i=e.getMonth()+1,r=e.getDate(),o=e.getHours(),a=e.getMinutes();return n+"-"+i+"-"+r+" "+o+":"+a},t.format_9=function(t){var e=Math.floor(t/this.MS_PER_HOUR);t-=e*this.MS_PER_HOUR;var n=Math.floor(t/this.MS_PER_MINUTE);t-=n*this.MS_PER_MINUTE;var i=Math.floor(t/1e3);return e+"小时"+n+"分钟"+i+"秒"},t.format_10=function(t){var e=Math.floor(t/this.MS_PER_MINUTE);t-=e*this.MS_PER_MINUTE;var n=Math.floor(t/1e3);return e+"分"+n+"秒"},t.format_11=function(t){var e=Math.floor(t/this.MS_PER_HOUR);t-=e*this.MS_PER_HOUR;var n=Math.floor(t/this.MS_PER_MINUTE);t-=n*this.MS_PER_MINUTE;var i=Math.floor(t/1e3);return e+"时"+n+"分"+i+"秒"},t.format_12=function(e){var n=Math.floor(e/this.MS_PER_HOUR);e-=n*this.MS_PER_HOUR;var i=Math.floor(e/this.MS_PER_MINUTE);e-=i*this.MS_PER_MINUTE;var r=Math.floor(e/1e3);return t.formatTimeNum(n)+":"+t.formatTimeNum(i)+":"+t.formatTimeNum(r)},t.format_13=function(e){var n=new Date(e),i=(n.getFullYear(),n.getMonth()+1),r=n.getDay(),o=n.getDate(),a=n.getHours(),s=n.getMinutes();return i+"月"+o+"日(周"+this.WEEK_CN[r]+") "+t.formatTimeNum(a)+":"+t.formatTimeNum(s)},t.format_14=function(t){var e=new Date(t),n=e.getHours(),i=e.getMinutes();return n+"时"+i+"分"},t.format_15=function(e){var n=new Date(e),i=n.getMonth()+1,r=n.getDate(),o=n.getHours(),a=n.getMinutes();return t.formatTimeNum(i)+"-"+t.formatTimeNum(r)+" "+t.formatTimeNum(o)+":"+t.formatTimeNum(a)},t.formatTimeNum=function(t,e){return t>=10?t.toString():0==e?t.toString():"0"+t},t.checkTime=function(t,e){var n=(new Date).getTime(),i=t>n+e*this.MS_PER_DAY;return i},t.formatFullTime=function(t){var e,n,i=new Date(t),r=i.getFullYear(),o=i.getMonth()+1,a=i.getDate(),s=i.getDay(),h=i.getHours();n=10>h?"0"+h:h.toString();var l,u=i.getMinutes();l=10>u?"0"+u:u.toString();var c;switch(s){case 1:c="Monday";break;case 2:c="Tuesday";break;case 3:c="Wednesday";break;case 4:c="Thursday";break;case 5:c="Friday";break;case 6:c="Saturday";break;case 0:c="Sunday"}return e=r+"years"+o+"month"+a+"day（"+c+"） "+n+":"+l},t.formatStrTimeToMs=function(t){var e=new Date,n=t.split(".");e.setFullYear(n[0]),e.setMonth(+n[1]-1);var i=n[2].split("-");e.setDate(i[0]);var r=i[1].split(":");return e.setHours(r[0]),e.setMinutes(r[1]),e.setSeconds(0),e.getTime()},t.TIME_FORMAT_1=1,t.TIME_FORMAT_2=2,t.TIME_FORMAT_3=3,t.TIME_FORMAT_4=4,t.TIME_FORMAT_5=5,t.TIME_FORMAT_6=6,t.TIME_FORMAT_7=7,t.TIME_FORMAT_8=8,t.TIME_FORMAT_9=9,t.TIME_FORMAT_10=10,t.TIME_FORMAT_11=11,t.TIME_FORMAT_12=12,t.TIME_FORMAT_13=13,t.TIME_FORMAT_14=14,t.TIME_FORMAT_15=15,t.MS_PER_SECOND=1e3,t.MS_PER_MINUTE=6e4,t.MS_PER_HOUR=36e5,t.MS_PER_DAY=864e5,t.SECOND_PER_HOUR=3600,t.SECOND_PER_DAY=86400,t.SECOND_PER_MONTH=2592e3,t.SECOND_PER_YEAR=31104e3,t.DAYS_PER_WEEK=7,t.YEAR_PER_YEAR=1,t.MONTH_PER_YEAR=12,t.DAYS_PER_MONTH=30,t.HOURS_PER_DAY=24,t.MUNITE_PER_HOUR=60,t.SECOND_PER_MUNITE=60,t.SECOND_PER_SECOND=1,t.SECOND_2010=1262275200,t.mod=[t.SECOND_PER_MUNITE,t.MUNITE_PER_HOUR,t.HOURS_PER_DAY,t.DAYS_PER_MONTH,t.MONTH_PER_YEAR,t.YEAR_PER_YEAR],t.mul=[t.SECOND_PER_SECOND,t.SECOND_PER_MUNITE,t.SECOND_PER_HOUR,t.SECOND_PER_DAY,t.SECOND_PER_MONTH,t.SECOND_PER_YEAR],t.MINI_DATE_TIME_BASE=Date.UTC(2010,0)+(new Date).getTimezoneOffset()*t.MS_PER_MINUTE,t.TIME_ZONE_OFFSET=8*t.MS_PER_HOUR,t.TO_SECOND=0,t.TO_MINUTE=1,t.TO_HOUR=2,t.TO_DAY=3,t.TO_MONTH=4,t.TO_YEAR=5,t.FORMAT_1=["秒","分","时","天","月","年"],t.FORMAT_2=[":",":",":",":",":",":"],t.WEEK_CN=["日","一","二","三","四","五","六"],t.STYLE_1=new DateStyle(t.FORMAT_1,t.TO_SECOND,t.TO_HOUR,!1),t.STYLE_2=new DateStyle(t.FORMAT_1,t.TO_SECOND,t.TO_DAY,!1),t.STYLE_3=new DateStyle(t.FORMAT_2,t.TO_SECOND,t.TO_HOUR,!0),t.STYLE_4=new DateStyle(t.FORMAT_1,t.TO_SECOND,t.TO_MINUTE,!0),t}();__reflect(DateUtils.prototype,"DateUtils");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e._total=33.5,e.createView(),e}return __extends(e,t),e.inst=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e.prototype.createView=function(){this.progressPanel=new eui.Group,this.addChild(this.progressPanel),this._w=StageUtils.inst().getWidth(),this.progressPanel.horizontalCenter=0,this.progressPanel.left=0,this.progressPanel.right=0,this.progressPanel.bottom=0,this.textField=new eui.Label,this.progressPanel.addChild(this.textField),this.textField.fontFamily="yt",this.textField.size=20,this.textField.y=StageUtils.inst().getHeight()-120,this.textField.horizontalCenter=0},e.prototype.onProgress=function(t,e){var n=(t/e*this._total).toFixed(1),i=t/e*this._w;i>=this._w&&(i=this._w,n=this._total.toString()),this.textField.text="正在启动游戏引擎，此过程不需要流量"},e}(eui.UILayer);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var DeviceUtils=function(){function t(){}return Object.defineProperty(t,"IsHtml5",{get:function(){return egret.Capabilities.runtimeType==egret.RuntimeType.WEB},enumerable:!0,configurable:!0}),Object.defineProperty(t,"IsNative",{get:function(){return egret.Capabilities.runtimeType==egret.RuntimeType.NATIVE},enumerable:!0,configurable:!0}),Object.defineProperty(t,"IsMobile",{get:function(){return egret.Capabilities.isMobile},enumerable:!0,configurable:!0}),Object.defineProperty(t,"IsPC",{get:function(){return!egret.Capabilities.isMobile},enumerable:!0,configurable:!0}),Object.defineProperty(t,"IsQQBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("MQQBrowser")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"IsIEBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("MSIE")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"IsFirefoxBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Firefox")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"IsChromeBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Chrome")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"IsSafariBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Safari")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"IsOperaBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Opera")},enumerable:!0,configurable:!0}),t}();__reflect(DeviceUtils.prototype,"DeviceUtils");var Dictionary=function(){function t(){this._keys=[],this._values=[]}return Object.defineProperty(t.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keys",{get:function(){return this._keys},enumerable:!0,configurable:!0}),t.prototype.setKeyValue=function(t,e){var n=this._keys.indexOf(t);return n>=0?void(this._values[n]=e):(this._keys.push(t),void this._values.push(e))},t.prototype.getValue=function(t){var e=this._keys.indexOf(t);return 0>e?null:this._values[e]},t.prototype.remove=function(t){var e=this._keys.indexOf(t);return e>=0?(this._keys.splice(e,1),this._values.splice(e,1),!0):!1},t.prototype.clear=function(){this._values.length=0,this._keys.length=0},t}();__reflect(Dictionary.prototype,"Dictionary");var DirUtil=function(){function t(){}return t.get8DirBy2Point=function(t,e){var n=MathUtils.getAngle(MathUtils.getRadian2(t.x,t.y,e.x,e.y));return this.angle2dir(n)},t.get4DirBy2Point=function(t,e){return t.x<e.x?t.y<e.y?3:1:t.y<e.y?5:7},t.dir2angle=function(t){return t*=45,t-=90},t.angle2dir=function(t){return-90>t&&(t+=360),Math.round((t+90)/45)%8},t.dirOpposit=function(t){return 4>t?t+4:t-4},t.get5DirBy8Dir=function(t){return t-this.isScaleX(t)},t.isScaleX=function(t){var e=2*(t-4);return 0>e&&(e=0),e},t}();__reflect(DirUtil.prototype,"DirUtil");var DisplayUtils=function(){function t(){}return t.setShakeOn=function(t){this.openShake=t},t.createBitmap=function(t){var e=new egret.Bitmap,n=RES.getRes(t);return e.texture=n,e},t.createEuiImage=function(t){var e=new eui.Image,n=RES.getRes(t);return e.source=n,e},t.removeFromParent=function(t){t&&null!=t.parent&&t.parent.removeChild(t)},t.shakeIt=function(e,n,i,r,o){if(void 0===r&&(r=1),void 0===o&&(o=function(){return!0}),this.openShake&&e&&!(1>r)&&o()){var a=[{anchorOffsetX:0,anchorOffsetY:-n},{anchorOffsetX:0,anchorOffsetY:+n},{anchorOffsetX:0,anchorOffsetY:0}];egret.Tween.removeTweens(e);var s=i/a.length;egret.Tween.get(e).to(a[0],s).to(a[1],s).to(a[2],s).call(function(){t.shakeIt(e,n,i,--r)},this)}},t.shakeItHeji=function(e,n,i,r,o){if(void 0===r&&(r=1),void 0===o&&(o=function(){return!0}),this.openShake&&e&&!(1>r)&&o()){var a=[{anchorOffsetX:.1*+n,anchorOffsetY:+n},{anchorOffsetX:.1*-n,anchorOffsetY:-n},{anchorOffsetX:.1*+n,anchorOffsetY:+n},{anchorOffsetX:.1*-n,anchorOffsetY:-n},{anchorOffsetX:.1*(+n>>1),anchorOffsetY:+n>>1},{anchorOffsetX:.1*(-n>>1),anchorOffsetY:-n>>1},{anchorOffsetX:.1*(+n>>2),anchorOffsetY:+n>>2},{anchorOffsetX:0,anchorOffsetY:0}];egret.Tween.removeTweens(e);var s=i/a.length;egret.Tween.get(e).to(a[0],s).to(a[1],s).to(a[2],s).to(a[3],s).to(a[4],s).to(a[5],s).to(a[6],s).to(a[7],s).call(function(){t.shakeIt(e,n,i,--r)},this)}},t.shakeItEntity=function(t,e,n,i,r){var o=this;if(void 0===i&&(i=1),void 0===r&&(r=function(){return!0}),this.openShake&&t&&!(1>i)&&r()){var a=[{anchorOffsetX:0,anchorOffsetY:-e},{anchorOffsetX:-e,anchorOffsetY:0},{anchorOffsetX:e,anchorOffsetY:0},{anchorOffsetX:0,anchorOffsetY:e},{anchorOffsetX:0,anchorOffsetY:0}];egret.Tween.removeTweens(t);var s=n/5;egret.Tween.get(t).to(a[0],s).to(a[1],s).to(a[2],s).to(a[3],s).to(a[4],s).call(function(){o.shakeIt(t,e,n,--i)},this)}},t.drawCir=function(t,e,n,i){function r(){t.graphics.clear(),t.graphics.beginFill(65535,1),t.graphics.moveTo(0,0),t.graphics.lineTo(e,0),t.graphics.drawArc(0,0,e,0,n*Math.PI/180,i),t.graphics.lineTo(0,0),t.graphics.endFill()}return null==t&&(t=new egret.Shape),r(),t},t.drawrect=function(t,e,n,i){function r(){t.graphics.clear(),t.graphics.beginFill(65535,1),t.graphics.drawRect(0,0,e,n),t.graphics.endFill()}return null==t&&(t=new egret.Shape),r(),t},t.scrollerToBottom=function(t){t.viewport.validateNow(),t.viewport.contentHeight>t.height&&(t.viewport.scrollV=t.viewport.contentHeight-t.height)},t.openShake=!0,t.shakingList={},t}();__reflect(DisplayUtils.prototype,"DisplayUtils");var FilterUtil=function(){function t(){}return Object.defineProperty(t,"grayFilter",{get:function(){return new egret.ColorMatrixFilter([.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0])},enumerable:!0,configurable:!0}),Object.defineProperty(t,"grayFilter1",{get:function(){return new egret.ColorMatrixFilter([.3086,.5,.082,0,0,.3086,.5,.082,0,0,.3086,.5,.082,0,0,0,0,0,1,0])},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ARRAY_GRAY_FILTER",{get:function(){return[t.grayFilter1]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"greenFilter",{get:function(){return new egret.ColorMatrixFilter([1,0,0,0,0,0,1,0,0,100,0,0,1,0,0,0,0,0,1,0])},enumerable:!0,configurable:!0}),Object.defineProperty(t,"greenFilter1",{get:function(){return new egret.ColorMatrixFilter([.1,0,0,0,0,0,.80078125,0,0,20,0,0,-1,0,0,0,0,0,1,0])},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ARRAY_GREEN_FILTER",{get:function(){return[t.greenFilter1]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"blurFilter",{get:function(){return new egret.BlurFilter(10,10,2)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ARRAY_BLUR_FILTER",{get:function(){return[t.blurFilter]},enumerable:!0,configurable:!0}),t}();__reflect(FilterUtil.prototype,"FilterUtil");var GlobalFun=function(){function t(){}return t.getOption=function(t){if(window.location){var e=location.search;if(""==e)return"";e=e.slice(1);for(var n=e.split("&"),i=n.length,r=0;i>r;r++){var o=n[r],a=o.split("=");if(a[0]==t)return a[1]}}return""},t.shakeObj=function(t,e,n,i){this.target=t,this.initX=t.x,this.initY=t.y,this.maxDis=i,this.count=e*n,this.rate=n,this.timer.delay=1e3/n,this.timer.repeatCount=this.count,this.timer.addEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this),this.timer.reset(),this.timer.start()},t.shaking=function(){egret.Tween.removeTweens(this.target),this.target.x=this.initX-this.maxDis+Math.random()*this.maxDis*2,this.target.y=this.initY-this.maxDis+Math.random()*this.maxDis*2,egret.Tween.get(this.target).to({x:this.initX,y:this.initY},999/this.rate)},t.guideToNext=function(t,e,n){GameApp.guilding&&GameApp.guildView&&(GameApp.nextStepId?GameApp.guildView.nextStep({id:GameApp.nextStepId,comObj:t,width:e,height:n}):(GameApp.guildView=null,ViewManager.inst().close(GuideView)))},t.continueGuide=function(t,e,n){GameApp.waitStepId&&(ViewManager.inst().open(GuideView),GameApp.guildView=ViewManager.inst().getView(GuideView),GameApp.guildView.nextStep({id:GameApp.waitStepId,comObj:t,width:e,height:n}))},t.shakeComplete=function(){this.target&&(egret.Tween.removeTweens(this.target),this.target.x=this.initX,this.target.y=this.initY),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this)},t.stop=function(){this.shakeComplete()},t.filterToGrey=function(t){var e=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0],n=new egret.ColorMatrixFilter(e);t.filters=[n]},t.skillBuffFilter=function(t,e){var n=[];switch(t){case 1e4:n=[1,0,0,0,196,0,1,0,0,64,0,0,1,0,201,0,0,0,1,0];break;case 10001:n=[1,0,0,0,102,0,1,0,0,158,0,0,1,0,39,0,0,0,1,0];break;case 10002:n=[1,0,0,0,155,0,1,0,0,128,0,0,1,0,26,0,0,0,1,0]}var i=new egret.ColorMatrixFilter(n);e.filters=[i]},t.clearFilters=function(t){t.filters=[]},t.sendToNativePhurse=function(t){window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.payGood&&window.webkit.messageHandlers.payGood.postMessage(JSON.stringify(t))},t.sendToNativeLoadEnd=function(){window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.loadingFinish&&window.webkit.messageHandlers.loadingFinish.postMessage({})},t.payCallBack=function(t){GameApp.pay_cbDdata=t},t.createSkillEff=function(t,e,n,i,r){var o,a,s=!0;for(var h in o)if(o[h].skillId==e){a=o[h];break}var l=new eui.Label;if(l.size=20,l.scaleX=l.scaleY=1.5,l.textColor=16777215,n.addChild(l),l.x=r.x-70,l.y=r.y-150,l.text=a.skillName,egret.Tween.get(l).to({scaleX:1,scaleY:1},600,egret.Ease.circOut).wait(500).call(function(){egret.Tween.removeTweens(l),l&&l.parent&&l.parent.removeChild(l),l=null},this),s){var u=1,c=100,g=StageUtils.inst().getWidth()-100,f=100,p=StageUtils.inst().getHeight()-100,_=new MovieClip;_.scaleX=_.scaleY=1,n.addChild(_),_.playFile(""+SKILL_EFF+a.roleSkill,i,null,!0),_.x=Math.random()*(g-c)+c>>0,_.y=Math.random()*(p-f)+f>>0;var d=setInterval(function(){u+=1;var t=new MovieClip;t.scaleX=t.scaleY=.7,n.addChild(t),t.playFile(""+SKILL_EFF+a.roleSkill,i,null,!0),t.x=Math.random()*(g-c)+c>>0,t.y=Math.random()*(p-f)+f>>0,u>=15&&clearInterval(d)},100)}else{var _=new MovieClip;_.scaleX=_.scaleY=1,n.addChild(_),_.playFile(""+SKILL_EFF+a.roleSkill,i,null,!0),_.x=r.x,_.y=r.y}},t.count=0,t.timer=new egret.Timer(1e3),t}();__reflect(GlobalFun.prototype,"GlobalFun");var KeyCode=function(){function t(){}return t.KC_1=49,t.KC_2=50,t.KC_3=51,t.KC_4=52,t.KC_5=53,t.KC_6=54,t.KC_7=55,t.KC_8=56,t.KC_9=57,t.KC_0=48,t.KC_A=65,t.KC_B=66,t.KC_C=67,t.KC_D=68,t.KC_E=69,t.KC_F=70,t.KC_G=71,t.KC_H=72,t.KC_I=73,t.KC_J=74,t.KC_K=75,t.KC_L=76,t.KC_M=77,t.KC_N=78,t.KC_O=79,t.KC_P=80,t.KC_Q=81,t.KC_R=82,t.KC_S=83,t.KC_T=84,t.KC_U=85,t.KC_V=86,t.KC_W=87,t.KC_X=88,t.KC_Y=89,t.KC_Z=90,t.KC_F1=112,t.KC_F2=113,t.KC_F3=114,t.KC_F4=115,t.KC_F5=116,t.KC_F6=117,t.KC_F7=118,t.KC_F8=119,t.KC_F9=120,t.KC_F10=121,t.KC_F11=122,t.KC_F12=123,t.KC_F13=124,t.KC_F14=125,t.KC_F15=126,t.KC_NUMPAD_0=96,t.KC_NUMPAD_1=97,t.KC_NUMPAD_2=98,t.KC_NUMPAD_3=99,t.KC_NUMPAD_4=100,t.KC_NUMPAD_5=101,t.KC_NUMPAD_6=102,t.KC_NUMPAD_7=103,t.KC_NUMPAD_8=104,t.KC_NUMPAD_9=105,t.KC_NUMPAD_MULTIPLY=106,t.KC_NUMPAD_ADD=107,t.KC_NUMPAD_ENTER=108,t.KC_NUMPAD_SUBTRACT=109,t.KC_NUMPAD_DECIMAL=110,t.KC_NUMPAD_DIVIDE=111,t.KC_BACKSPACE=8,t.KC_TAB=9,t.KC_ENTER=13,t.KC_SHIFT=16,t.KC_CONTROL=17,t.KC_ESCAPE=27,t.KC_SPACE=32,t.KC_WINDOWS=91,t.KC_MENU=93,t.KC_CAPS_LOCK=20,t.KC_NUM_LOCK=144,t.KC_SCROLL_LOCK=145,t.KC_PAUSE=19,t.KC_PAGE_UP=33,t.KC_PAGE_DOWN=34,t.KC_END=35,t.KC_HOME=36,t.KC_INSERT=45,t.KC_DELETE=46,t.KC_LEFT=37,t.KC_UP=38,t.KC_RIGHT=39,t.KC_DOWN=40,t.KC_SEMICOLON_COLON=186,t.KC_EQUAL_PLUS=187,t.KC_MINUS_UNDERLINE=189,t.KC_SLASH_QUESTIONMARK=191,t.KC_SPECIALCOMMA_EARTHWORM=192,t.KC_LEFT_BRACKET_BRACE=219,t.KC_BACKSLASH_VERTICALBAR=220,t.KC_RIGHT_BRACKET_BRACE=221,t.KC_QUOTE=222,t.KC_COMMA=188,t.KC_PERIOD=190,t}();__reflect(KeyCode.prototype,"KeyCode");var MathUtils=function(){function t(){}return t.getAngle=function(t){return 180*t/Math.PI},t.getRadian=function(t){return t/180*Math.PI},t.getRadian2=function(t,e,n,i){var r=n-t,o=i-e;return Math.atan2(o,r)},t.getDistance=function(t,e,n,i){var r=n-t,o=i-e,a=r*r+o*o;return Math.sqrt(a)},t.getDistanceByObject=function(t,e){return this.getDistance(t.x,t.y,e.x,e.y)},t.getDistanceX2ByObject=function(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i},t.getDirMove=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=this.getRadian(t),o={x:0,y:0};return o.x=Math.cos(r)*e+n,o.y=Math.sin(r)*e+i,o},t.limit=function(t,e){t=Math.min(t,e),e=Math.max(t,e);var n=e-t;return t+Math.random()*n},t.limitInteger=function(t,e){return Math.round(this.limit(t,e))},t.randomArray=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},t.toInteger=function(t){return t>>0},t}();__reflect(MathUtils.prototype,"MathUtils");var md5=function(){function t(){}return t.obj_md5=function(t,e,n,i){void 0===n&&(n=[]),void 0===i&&(i=!0);var r=[];for(var o in t)r.push(o);i&&r.sort();for(var a=[],s=0;s<r.length;s++){var o=r[s];-1==n.indexOf(o)&&a.push(o+"="+t[o])}var h=a.join("&");return this.hex_md5(h+(e?"&"+e:""))},t.obj_md5_args=function(t,e,n,i,r){void 0===i&&(i=[]),void 0===r&&(r=!0);var o=[];for(var a in t)o.push(a);r&&o.sort();for(var s=[],h=0;h<o.length;h++){var a=o[h];-1==i.indexOf(a)&&s.push(a+"="+t[a])}var l=s.join("&");n&&(l+="&sign="+this.hex_md5(l+(e?"&"+e:"")));for(var h=0;h<i.length;h++){var u=i[h];l+="&"+u+"="+t[u]}return l},t.hex_md5=function(t){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)))},t.b64_md5=function(t){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(t)))},t.any_md5=function(t,e){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(t)),e)},t.hex_hmac_md5=function(t,e){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.b64_hmac_md5=function(t,e){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.any_hmac_md5=function(t,e,n){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)),n)},t.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},t.rstr_md5=function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))},t.rstr_hmac_md5=function(t,e){var n=this.rstr2binl(t);n.length>16&&(n=this.binl_md5(n,8*t.length));for(var i=Array(16),r=Array(16),o=0;16>o;o++)i[o]=909522486^n[o],r[o]=1549556828^n[o];var a=this.binl_md5(i.concat(this.rstr2binl(e)),512+8*e.length);return this.binl2rstr(this.binl_md5(r.concat(a),640))},t.rstr2hex=function(t){try{this.hexcase}catch(e){this.hexcase=0}for(var n,i=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",r="",o=0;o<t.length;o++)n=t.charCodeAt(o),r+=i.charAt(n>>>4&15)+i.charAt(15&n);return r},t.rstr2b64=function(t){try{this.b64pad}catch(e){this.b64pad=""}for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="",r=t.length,o=0;r>o;o+=3)for(var a=t.charCodeAt(o)<<16|(r>o+1?t.charCodeAt(o+1)<<8:0)|(r>o+2?t.charCodeAt(o+2):0),s=0;4>s;s++)i+=8*o+6*s>8*t.length?this.b64pad:n.charAt(a>>>6*(3-s)&63);return i},t.rstr2any=function(t,e){var n,i,r,o,a,s=e.length,h=Array(Math.ceil(t.length/2));for(n=0;n<h.length;n++)h[n]=t.charCodeAt(2*n)<<8|t.charCodeAt(2*n+1);var l=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),u=Array(l);for(i=0;l>i;i++){for(a=Array(),o=0,n=0;n<h.length;n++)o=(o<<16)+h[n],r=Math.floor(o/s),o-=r*s,(a.length>0||r>0)&&(a[a.length]=r);u[i]=o,h=a}var c="";for(n=u.length-1;n>=0;n--)c+=e.charAt(u[n]);return c},t.str2rstr_utf8=function(t){for(var e,n,i="",r=-1;++r<t.length;)e=t.charCodeAt(r),n=r+1<t.length?t.charCodeAt(r+1):0,e>=55296&&56319>=e&&n>=56320&&57343>=n&&(e=65536+((1023&e)<<10)+(1023&n),r++),127>=e?i+=String.fromCharCode(e):2047>=e?i+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?i+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(i+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return i},t.str2rstr_utf16le=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n),t.charCodeAt(n)>>>8&255);return e},t.str2rstr_utf16be=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t.charCodeAt(n)>>>8&255,255&t.charCodeAt(n));return e},t.rstr2binl=function(t){for(var e=Array(t.length>>2),n=0;n<e.length;n++)e[n]=0;for(var n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e},t.binl2rstr=function(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e},t.binl_md5=function(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,a=0;a<t.length;a+=16){var s=n,h=i,l=r,u=o;n=this.md5_ff(n,i,r,o,t[a+0],7,-680876936),o=this.md5_ff(o,n,i,r,t[a+1],12,-389564586),r=this.md5_ff(r,o,n,i,t[a+2],17,606105819),i=this.md5_ff(i,r,o,n,t[a+3],22,-1044525330),n=this.md5_ff(n,i,r,o,t[a+4],7,-176418897),o=this.md5_ff(o,n,i,r,t[a+5],12,1200080426),r=this.md5_ff(r,o,n,i,t[a+6],17,-1473231341),i=this.md5_ff(i,r,o,n,t[a+7],22,-45705983),n=this.md5_ff(n,i,r,o,t[a+8],7,1770035416),o=this.md5_ff(o,n,i,r,t[a+9],12,-1958414417),r=this.md5_ff(r,o,n,i,t[a+10],17,-42063),i=this.md5_ff(i,r,o,n,t[a+11],22,-1990404162),n=this.md5_ff(n,i,r,o,t[a+12],7,1804603682),o=this.md5_ff(o,n,i,r,t[a+13],12,-40341101),r=this.md5_ff(r,o,n,i,t[a+14],17,-1502002290),i=this.md5_ff(i,r,o,n,t[a+15],22,1236535329),n=this.md5_gg(n,i,r,o,t[a+1],5,-165796510),o=this.md5_gg(o,n,i,r,t[a+6],9,-1069501632),r=this.md5_gg(r,o,n,i,t[a+11],14,643717713),i=this.md5_gg(i,r,o,n,t[a+0],20,-373897302),n=this.md5_gg(n,i,r,o,t[a+5],5,-701558691),o=this.md5_gg(o,n,i,r,t[a+10],9,38016083),r=this.md5_gg(r,o,n,i,t[a+15],14,-660478335),i=this.md5_gg(i,r,o,n,t[a+4],20,-405537848),n=this.md5_gg(n,i,r,o,t[a+9],5,568446438),o=this.md5_gg(o,n,i,r,t[a+14],9,-1019803690),r=this.md5_gg(r,o,n,i,t[a+3],14,-187363961),i=this.md5_gg(i,r,o,n,t[a+8],20,1163531501),n=this.md5_gg(n,i,r,o,t[a+13],5,-1444681467),o=this.md5_gg(o,n,i,r,t[a+2],9,-51403784),r=this.md5_gg(r,o,n,i,t[a+7],14,1735328473),i=this.md5_gg(i,r,o,n,t[a+12],20,-1926607734),n=this.md5_hh(n,i,r,o,t[a+5],4,-378558),o=this.md5_hh(o,n,i,r,t[a+8],11,-2022574463),r=this.md5_hh(r,o,n,i,t[a+11],16,1839030562),i=this.md5_hh(i,r,o,n,t[a+14],23,-35309556),n=this.md5_hh(n,i,r,o,t[a+1],4,-1530992060),o=this.md5_hh(o,n,i,r,t[a+4],11,1272893353),r=this.md5_hh(r,o,n,i,t[a+7],16,-155497632),i=this.md5_hh(i,r,o,n,t[a+10],23,-1094730640),n=this.md5_hh(n,i,r,o,t[a+13],4,681279174),o=this.md5_hh(o,n,i,r,t[a+0],11,-358537222),r=this.md5_hh(r,o,n,i,t[a+3],16,-722521979),i=this.md5_hh(i,r,o,n,t[a+6],23,76029189),n=this.md5_hh(n,i,r,o,t[a+9],4,-640364487),o=this.md5_hh(o,n,i,r,t[a+12],11,-421815835),r=this.md5_hh(r,o,n,i,t[a+15],16,530742520),i=this.md5_hh(i,r,o,n,t[a+2],23,-995338651),n=this.md5_ii(n,i,r,o,t[a+0],6,-198630844),o=this.md5_ii(o,n,i,r,t[a+7],10,1126891415),r=this.md5_ii(r,o,n,i,t[a+14],15,-1416354905),i=this.md5_ii(i,r,o,n,t[a+5],21,-57434055),n=this.md5_ii(n,i,r,o,t[a+12],6,1700485571),o=this.md5_ii(o,n,i,r,t[a+3],10,-1894986606),r=this.md5_ii(r,o,n,i,t[a+10],15,-1051523),i=this.md5_ii(i,r,o,n,t[a+1],21,-2054922799),n=this.md5_ii(n,i,r,o,t[a+8],6,1873313359),o=this.md5_ii(o,n,i,r,t[a+15],10,-30611744),r=this.md5_ii(r,o,n,i,t[a+6],15,-1560198380),i=this.md5_ii(i,r,o,n,t[a+13],21,1309151649),n=this.md5_ii(n,i,r,o,t[a+4],6,-145523070),o=this.md5_ii(o,n,i,r,t[a+11],10,-1120210379),r=this.md5_ii(r,o,n,i,t[a+2],15,718787259),i=this.md5_ii(i,r,o,n,t[a+9],21,-343485551),n=this.safe_add(n,s),i=this.safe_add(i,h),r=this.safe_add(r,l),o=this.safe_add(o,u)}return[n,i,r,o]},t.md5_cmn=function(t,e,n,i,r,o){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(i,o)),r),n)},t.md5_ff=function(t,e,n,i,r,o,a){return this.md5_cmn(e&n|~e&i,t,e,r,o,a)},t.md5_gg=function(t,e,n,i,r,o,a){return this.md5_cmn(e&i|n&~i,t,e,r,o,a)},t.md5_hh=function(t,e,n,i,r,o,a){return this.md5_cmn(e^n^i,t,e,r,o,a)},t.md5_ii=function(t,e,n,i,r,o,a){return this.md5_cmn(n^(e|~i),t,e,r,o,a)},t.safe_add=function(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n},t.bit_rol=function(t,e){return t<<e|t>>>32-e},t.hexcase=0,t.b64pad="",t}();__reflect(md5.prototype,"md5");var PageArray=function(){function t(t,e){void 0===e&&(e=20),this.dataSource=t,this.size=e,this.currentPage=0,this.setPageData()}return Object.defineProperty(t.prototype,"length",{get:function(){return this.dataSource.length},enumerable:!0,configurable:!0}),t.prototype.setPageData=function(){this.pageData=[];for(var t=this.currentPage*this.size,e=(this.currentPage+1)*this.size,n=Math.min(this.length,e),i=t;n>i;i++)this.pageData.push(this.dataSource[i])},t.prototype.getDataSource=function(){return this.dataSource},Object.defineProperty(t.prototype,"totalPage",{get:function(){return Math.ceil(this.length/this.size)},enumerable:!0,configurable:!0}),t.prototype.havePre=function(){return 0!=this.currentPage},t.prototype.haveNext=function(){return this.currentPage<this.totalPage-1},t.prototype.prev=function(){this.currentPage--,this.setPageData()},t.prototype.next=function(){this.currentPage++,this.setPageData()},t.prototype.first=function(){this.currentPage=0,this.setPageData()},t.prototype.last=function(){this.currentPage=this.totalPage-1,this.setPageData()},t.prototype.gotoPage=function(t){this.totalPage<t||(this.currentPage=t-1,this.setPageData())
},t}();__reflect(PageArray.prototype,"PageArray");var RegExpUtil=function(){function t(){}return t.LINE_BREAK=/\r+/g,t.BLANK_REG=/[\s\\]/g,t.ARGB_COLOR=/[a-fA-F0-9]{8}/,t.HTML=/<[^>]+>/g,t.DELETE_SPACE=/\s/g,t.REPLACE_STRING=/%s/g,t.NumericExp=/^\d+$/,t.NonNumericExp=/\D/,t.ActorNameExp=/^([\u4e00-\u9fa5]?\w?[^>|!@#$%&*\^\?]){1,48}$/,t}();__reflect(RegExpUtil.prototype,"RegExpUtil");var StageUtils=function(t){function e(){var n=t.call(this)||this;return null==e._uiStage&&(e._uiStage=new eui.UILayer,e._uiStage.touchEnabled=!1,e._uiStage.percentHeight=100,e._uiStage.percentWidth=100,n.getStage().addChild(e._uiStage)),n}return __extends(e,t),e.inst=function(){var t=this.single();return t},e.prototype.getHeight=function(){return this.getStage().stageHeight},e.prototype.getWidth=function(){return this.getStage().stageWidth},e.prototype.setTouchChildren=function(t){this.getStage().touchChildren=t},e.prototype.setMaxTouches=function(t){this.getStage().maxTouches=t},e.prototype.setFrameRate=function(t){this.getStage().frameRate=t},e.prototype.setScaleMode=function(t){this.getStage().scaleMode=t},e.prototype.getStage=function(){return egret.MainContext.instance.stage},e.prototype.getUIStage=function(){return e._uiStage},e.getScaleMode=function(){if(e.isIphoneX())return egret.StageScaleMode.FIXED_WIDTH;var t=window.innerHeight/window.innerWidth,n=1.4,i=1.8,r="";return n>=t?r=egret.StageScaleMode.FIXED_HEIGHT:t>n&&i>t&&(r=egret.StageScaleMode.FIXED_WIDTH),r},e.isIphoneX=function(){return 812==window.innerHeight&&375==window.innerWidth},e.init=function(){this.changeStageSize(),window.addEventListener("resize",this.changeStageSize)},e.changeStageSize=function(){var t=e.getScaleMode();this.lastOrientation!=window.orientation&&(document.body.style.height="100%",this.lastOrientation=window.orientation),e.inst().getStage().scaleMode=t},e}(BaseClass);__reflect(StageUtils.prototype,"StageUtils");var StringUtils=function(){function t(){}return t.trimSpace=function(t){return t.replace(/^\s*(.*?)[\s\n]*$/g,"$1")},t.getStringLength=function(t){for(var e=t.split(""),n=0,i=0;i<e.length;i++){var r=e[i];n+=this.isChinese(r)?2:1}return n},t.isChinese=function(t){var e=/^[\u4E00-\u9FA5]+$/;return e.test(t)?!1:!0},t.strByteLen=function(t){for(var e=0,n=t.length,i=0;n>i;i++)e+=t.charCodeAt(i)>=127?2:1;return e},t.complementByChar=function(e,n,i,r){void 0===i&&(i=" "),void 0===r&&(r=!0);var o=this.strByteLen(r?e.replace(t.HTML,""):e);return e+this.repeatStr(i,n-o)},t.repeatStr=function(t,e){for(var n="",i=0;e>i;i++)n+=t;return n},t.addColor=function(t,e){var n;return"string"==typeof e?n=String(e):"number"==typeof e&&(n=Number(e).toString(10)),'<font color="'+n+'">'+t+"</font>"},t.addColor1=function(t,e){var n=new Object;return n.style=new Object,n.text=t,n.textColor=Number(e).toString(16),n},t.substitute=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=RegExpUtil.REPLACE_STRING,r=t.match(i);if(r&&r.length)for(var o=r.length,a=0;o>a;a++)t=t.replace(r[a],e[a]);return t},t.replaceStr=function(t,e,n){if(-1==t.indexOf(e))return t;var i=t.split(e);return i[0]+n+i[1]},t.replaceStrColor=function(t,e){for(var n=t.indexOf("0x"),i=n,r="",o="";-1!=i;)r=t.substring(n,n+8),t=t.replace(r,e),n+=8,o=t.substring(n),i=o.indexOf("0x"),n+=i;return t},t.replace=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++)t=t.replace("%s",e[i]+"");return t},t.getStrByRegExp=function(t,e){void 0===e&&(e=/\d+/g);var n=[];t.replace(e,function(){return n.push(arguments[0]),"number"==typeof arguments[0]?arguments[0].toString():arguments[0]});return n},t.ChineseToNumber=function(e){for(var n=0,i=0,r=0,o=!1,a=e.split(""),s=0;s<a.length;s++){var h=t.chnNumCharCN[a[s]];if("undefined"!=typeof h)r=h,s===a.length-1&&(i+=r);else{var l=t.chnNameValueCN[a[s]].value;o=t.chnNameValueCN[a[s]].secUnit,o?(i=(i+r)*l,n+=i,i=0):i+=r*l,r=0}}return n+i},t.NumberToChinese=function(e){var n=0,i="",r="",o=!1,a=t.chnNumChar,s=t.chnUnitSection;if(0===e)return a[0];for(;e>0;){var h=e%1e4;o&&(r=a[0]+r),i=t.SectionToChinese(h),i+=0!==h?s[n]:s[0],r=i+r,o=1e3>h&&h>0,e=Math.floor(e/1e4),n++}return r},t.SectionToChinese=function(e){for(var n="",i="",r=0,o=!0,a=t.chnNumChar,s=t.chnUnitChar;e>0;){var h=e%10;0===h?o||(o=!0,i=a[h]+i):(o=!1,n=a[h],n+=s[r],i=n+i),r++,e=Math.floor(e/10)}return i},t.HTML=/<[^>]+>/g,t.chnNumCharCN={"零":0,"一":1,"二":2,"三":3,"四":4,"五":5,"六":6,"七":7,"八":8,"九":9},t.chnNameValueCN={"十":{value:10,secUnit:!1},"百":{value:100,secUnit:!1},"千":{value:1e3,secUnit:!1},"万":{value:1e4,secUnit:!0},"亿":{value:1e8,secUnit:!0}},t.chnNumChar=["零","一","二","三","四","五","六","七","八","九"],t.chnUnitSection=["","万","亿","万亿","亿亿"],t.chnUnitChar=["","十","百","千"],t}();__reflect(StringUtils.prototype,"StringUtils");var TextFlowMaker=function(){function t(){}return t.generateTextFlow=function(e){if(!e)return(new egret.HtmlTextParser).parser("");for(var n,i=e.split("|"),r="",o=0,a=i.length;a>o;o++)r+=t.getSingleTextFlow1(i[o]);try{n=(new egret.HtmlTextParser).parser(r)}catch(s){return debug.log("错误的HTML输入"),(new egret.HtmlTextParser).parser("")}return n},t.generateTextFlow1=function(e){if(!e)return(new egret.HtmlTextParser).parser("");for(var n=e.split("|"),i=[],r=0,o=n.length;o>r;r++){var a=t.getSingleTextFlow(n[r]);a.text&&""!=a.text&&i.push(a)}return i},t.getOnlyName=function(t){if(!t)return"";var e=t.indexOf("<font"),n=t;return-1!=e&&(n=t.slice(0,e)),n},t.getSingleTextFlow1=function(e){var n=e.split("&T:",2);if(2==n.length){for(var i="<font",r=n[0].split("&"),o=void 0,a=!1,s=0,h=r.length;h>s;s++)switch(o=r[s].split(":"),o[0]){case t.STYLE_SIZE:i+=' size="'+Math.floor(+o[1])+'"';break;case t.STYLE_COLOR:i+=' color="'+Math.floor(+o[1])+'"';break;case t.UNDERLINE_TEXT:a=!0}return i+=a?"><u>"+n[1]+"</u></font>":">"+n[1]+"</font>"}return"<font>"+e+"</font>"},t.getSingleTextFlow=function(e){var n=e.split("&T:",2),i={style:{}};if(2==n.length){for(var r=(n[0],e.split("&")),o=void 0,a=0,s=r.length;s>a;a++)switch(o=r[a].split(":"),o[0]){case t.STYLE_SIZE:i.style.size=+o[1];break;case t.STYLE_COLOR:i.style.textColor=+o[1];break;case t.UNDERLINE_TEXT:i.style.underline=!0;break;case t.EVENT:i.style.href="event:"+o[1]}i.text=n[1]}else i.text=e;return i},t.getCStr=function(e){return t.numberList[e]?t.numberList[e]:""},t.STYLE_COLOR="C",t.STYLE_SIZE="S",t.PROP_TEXT="T",t.UNDERLINE_TEXT="U",t.EVENT="E",t.numberList=["Zero","One","Two","Three","Fout","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen","Twenty"],t}();__reflect(TextFlowMaker.prototype,"TextFlowMaker");var uint64=function(){function t(t){this._lowUint=0,this._highUint=0,this.value=t}return t.prototype.isEqual=function(t){return t?this._lowUint==t._lowUint&&this._highUint==t._highUint:!1},t.prototype.isGreaterThan=function(e){if(e instanceof t)return this._highUint>e._highUint||this._highUint==e._highUint&&this._lowUint>e._lowUint;var n=new t;return"string"==typeof e?(n.value=e,this.isGreaterThanOrEqual(n)):"number"==typeof e?(n.value=e.toString(),this.isGreaterThanOrEqual(n)):void 0},t.prototype.isGreaterThanOrEqual=function(e){if(e instanceof t)return this._highUint>e._highUint||this._highUint==e._highUint&&this._lowUint>=e._lowUint;var n=new t;return"string"==typeof e?(n.value=e,this.isGreaterThanOrEqual(n)):"number"==typeof e?(n.value=e.toString(),this.isGreaterThanOrEqual(n)):void 0},Object.defineProperty(t.prototype,"isZero",{get:function(){return 0==this._lowUint&&0==this._highUint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isGreaterThanZero",{get:function(){return this._lowUint>0||this._highUint>0},enumerable:!0,configurable:!0}),t.prototype.writeByte=function(t){t.writeUnsignedInt(this._lowUint),t.writeUnsignedInt(this._highUint)},t.prototype.setValue=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._lowUint=t,this._highUint=e},Object.defineProperty(t.prototype,"value",{set:function(e){e instanceof egret.ByteArray?(this._lowUint=e.readUnsignedInt(),this._highUint=e.readUnsignedInt()):"string"==typeof e&&t.stringToUint64(e,10,this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueByString",{set:function(t){},enumerable:!0,configurable:!0}),t.prototype.leftMove=function(e,n){void 0===n&&(n=null),n=n||this;var i=t.LeftMoveMask[e],r=i&this._lowUint;r>>>=32-e,n._lowUint=this._lowUint<<e,n._highUint=this._highUint<<e,n._highUint=n._highUint|r},t.prototype.add=function(e,n){void 0===n&&(n=null),n=n||this;var i=this._lowUint+e._lowUint;n._highUint=this._highUint+e._highUint,i>=t.MaxLowUint?(n._highUint++,n._lowUint=i-t.MaxLowUint):n._lowUint=i},t.prototype.subtraction=function(e,n){void 0===n&&(n=null),n=n||this;var i=this._lowUint-e._lowUint;n._highUint=this._highUint-e._highUint,0>i?(n._highUint--,n._lowUint=i+t.MaxLowUint):n._lowUint=i},t.prototype.scale=function(e,n){void 0===n&&(n=null),n=n||this;var i=this._lowUint*e;n._highUint=this._highUint*e,n._highUint+=Math.floor(Math.abs(i/t.MaxLowUint)),n._lowUint=i%t.MaxLowUint},t.prototype.toString=function(e){void 0===e&&(e=10);for(var n,i,r,o="",a=this._lowUint,s=this._highUint;0!=s||0!=a;)n=s%e,r=n*t.MaxLowUint+a,i=r%e,o=i+o,s=(s-n)/e,a=(r-i)/e;return o.length?o:"0"},t.stringToUint64=function(e,n,i){void 0===n&&(n=10),void 0===i&&(i=null),i=i||new t;for(var r,o,a=0,s=0,h=e.length,l=0;h>l;l++)o=parseInt(e.charAt(l)),r=a*n+o,s=s*n+Math.floor(r/t.MaxLowUint),a=r%t.MaxLowUint;return i.setValue(a,s),i},t.LeftMoveMask=[0,2147483648,1073741824,536870912,268435456,134217728,67108864,33554432,16777216,8388608,4194304,2097152,1048576,524288,262144,131072,65536,32768,16384,8192,4096,2048,1024,512,256,128,64,32,16,8,4,2,1],t.MaxLowUint=4294967296,t}();__reflect(uint64.prototype,"uint64");var WatcherUtil=function(){function t(){}return t.removeFromArrayCollection=function(e){e&&e.source&&e.source.length&&t.removeFromArray(e.source)},t.removeFromArray=function(e){if(e)for(var n=0,i=e;n<i.length;n++){var r=i[n];t.removeFromObject(r)}},t.removeFromObject=function(t){if(t instanceof egret.EventDispatcher){var e=t.$getEventMap(),n=e[eui.PropertyEvent.PROPERTY_CHANGE];if(n)for(var i=n.length-1;i>=0;i--){var r=n[i];r.thisObject instanceof eui.Watcher&&(r.thisObject.unwatch(),n.splice(i,1))}}else{var o=t.__listeners__;if(o&&o.length)for(var a=0;a<o.length;a+=2){var s=o[a+1];s instanceof eui.Watcher&&(s.unwatch(),a-=2)}}},t}();__reflect(WatcherUtil.prototype,"WatcherUtil");var GuideView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._handMc=new MovieClip,this.addChild(this._handMc),this._handMc.touchEnabled=!1,this.descLab=new eui.Label,this.addChild(this.descLab),this.descLab.fontFamily="yt",this.descLab.size=20,this.descLab.textColor=16250871,this.descLab.stroke=1,this.descLab.strokeColor=0,this.descLab.visible=!1,this.rect.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onGuideTap,this)},e.prototype.onGuideTap=function(t){var e=this.data.id,n=GuideCfg.guidecfg,i=n[e];GameApp.nextStepId=i.next,i.wait?GameApp.waitStepId=i.wait:GameApp.waitStepId="",this.tips="",MessageManager.inst().dispatch(i.event,i.param)},e.prototype.nextStep=function(t){this.descLab.visible=!1,egret.Tween.removeTweens(this.descLab),this.data=t;var e=GuideCfg.guidecfg,n=e[this.data.id];n.tip&&(this.tips=n.tip),this.setRect()},e.prototype.setRect=function(){if(this.data.comObj instanceof egret.DisplayObject){var t=this.data.comObj.parent.localToGlobal(this.data.comObj.x,this.data.comObj.y);40==this.data.offsetX&&50==this.data.offsetY?(this.data.offsetX=0,this.data.offsetY=0,this.rectData=[t.x+(this.data.offsetX||0),t.y+(this.data.offsetY||0),this.data.width-(this.data.offsetX||0),this.data.height]):this.rectData=[t.x+(this.data.offsetX||0),t.y+(this.data.offsetY||0),this.data.width,this.data.height]}else this.rectData=[this.data.comObj.x,this.data.comObj.y,this.data.width,this.data.height];this.rect.x=this.rectData[0],this.rect.y=this.rectData[1],this.rect.width=this.data.width,this.rect.height=this.data.height,this.setBgdSize(),this.setArrow(),this.setDesc()},e.prototype.setBgdSize=function(){var t,e,n=this.rect.x,i=this.rect.y;t=n>0?n:0,e=i+this.rect.height>0?i+this.rect.height:0,this.bg_left.width=t,this.bg_left.height=e,t=StageUtils.inst().getWidth()-n,t=0>t?0:t,this.bg_top.width=t,this.bg_top.height=i,t=StageUtils.inst().getWidth()-n-this.rect.width,t=0>t?0:t,e=StageUtils.inst().getHeight()-i,e=0>e?0:e,this.bg_right.width=t,this.bg_right.height=e,e=StageUtils.inst().getHeight()-i-this.rect.height,e=0>e?0:e,this.bg_bottom.width=n+this.rect.width,this.bg_bottom.height=e},e.prototype.setArrow=function(){this._handMc.playFile(EFFECT+"fingerClick",-1),this._handMc.x=this.rect.x+this.rect.width,this._handMc.y=this.rect.y+this.rect.height},e.prototype.setDesc=function(){this.tips&&(this.descLab.visible=!0,this.descLab.text=this.tips,this.descLab.anchorOffsetX=this.descLab.width>>1,this.descLab.x=this.rect.x+(this.rect.width>>1)-70,this.descLab.y=this.rect.y-50,this.descLab.scaleX=this.descLab.scaleY=1,egret.Tween.get(this.descLab,{loop:!0}).to({scaleX:.8,scaleY:.8},1200).to({scaleX:1,scaleY:1},1200))},e.prototype.close=function(){this.rect.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onGuideTap,this)},e}(BaseEuiView);__reflect(GuideView.prototype,"GuideView"),ViewManager.inst().reg(GuideView,LayerManager.UI_Pop);var MainView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.playAction_shouzhi=function(t,e,n){var i=RES.getRes("roleinfo_json"),r=RES.getRes("roleinfo_png"),o=new egret.MovieClipDataFactory(i,r),a=new egret.MovieClip(o.generateMovieClipData("roleinfo"));n.addChild(a),a.addEventListener(egret.Event.COMPLETE,function(t){},this),a.x=t,a.y=e,a.gotoAndPlay("roleinfo",-1),n.swapChildren(a,this.chatCom)},e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.label_name.text=GameConfig.role_name,this.playAction_shouzhi(this.stage.stageWidth/2+20,this.stage.stageHeight-80,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this),MessageManager.inst().addListener(CustomEvt.GUIDE_CLICK_INFO,this.onCliclStory,this),MessageManager.inst().addListener(CustomEvt.GUIDE_CLICK_PUCONG,this.onClickPucong,this),MessageManager.inst().addListener("storyOver",this.storyOver,this),this.mainview_juqing.autoSize(),this.mainview_chuyou.autoSize(),this.mainview_pocong.autoSize(),this.mainview_huanzhuang.autoSize(),this.mainview_baoguo.autoSize(),this.mainview_youren.autoSize(),this.mainview_shop.autoSize(),this.mainview_rank.autoSize(),GameApp.guilding&&(GameApp.waitStepId||GameApp.nextStepId||(ViewManager.inst().open(GuideView),GameApp.guildView=ViewManager.inst().getView(GuideView),GameApp.guildView.nextStep({id:"1_1",comObj:this.mainview_juqing,width:200,height:178})))},e.prototype.storyOver=function(){GameApp.guilding&&(GameApp.waitStepId||GameApp.nextStepId)&&GlobalFun.continueGuide(this.mainview_pocong,this.mainview_pocong.width,this.mainview_pocong.height)},e.prototype.onClickPucong=function(){ViewManager.inst().open(PoCong)},e.prototype.onCliclStory=function(){ViewManager.inst().open(LevelView),ViewManager.inst().close(e)},e.prototype.onMove=function(){},e.prototype.touchHandler=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)switch(t.target){case this.mainview_chuyou:ViewManager.inst().open(ChuYouView);break;case this.mainview_huanzhuang:UserTips.inst().showTips("通关1-9章开启");break;case this.mainview_juqing:ViewManager.inst().open(LevelView),ViewManager.inst().close(e);break;case this.mainview_rank:ViewManager.inst().open(DailyTask);break;case this.mainview_shop:ViewManager.inst().open(ShopPopUp);break;case this.mainview_youren:ViewManager.inst().open(FriendView);break;case this.mainview_pocong:ViewManager.inst().open(PoCong);break;case this.mainview_baoguo:ViewManager.inst().open(BagPopUp);break;case this.mainview_shezhi:ViewManager.inst().open(InformationSetView);break;case this.mainview_tou:ViewManager.inst().open(InformationView)}},e.prototype.close=function(){MessageManager.inst().removeListener(CustomEvt.GUIDE_CLICK_INFO,this.onCliclStory,this),MessageManager.inst().removeListener(CustomEvt.GUIDE_CLICK_PUCONG,this.onClickPucong,this),MessageManager.inst().removeListener("storyOver",this.storyOver,this)},e}(BaseEuiView);__reflect(MainView.prototype,"MainView"),ViewManager.inst().reg(MainView,LayerManager.UI_Main);var BagView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.btn_1.source=RES.getRes("friend_btn1_png"),this.btn_2.source=RES.getRes("friend_btn2_png"),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e.prototype.touchHandler=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)switch(t.target){case this.btn_1:this.btn_1.source=RES.getRes("friend_btn1_png"),this.btn_2.source=RES.getRes("friend_btn2_png");break;case this.btn_2:this.btn_1.source=RES.getRes("friend_btn2_png"),this.btn_2.source=RES.getRes("friend_btn1_png");break;case this.friend_close:ViewManager.inst().close(e)}},e.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e}(BaseEuiView);__reflect(BagView.prototype,"BagView"),ViewManager.inst().reg(BagView,LayerManager.UI_Main);var ChuYouFui=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e.prototype.touchHandler=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)switch(t.target){case this.friend_close:ViewManager.inst().close(e)}},e.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e}(BaseEuiView);__reflect(ChuYouFui.prototype,"ChuYouFui"),ViewManager.inst().reg(ChuYouFui,LayerManager.UI_Main);var ChuYouGet=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e.prototype.touchHandler=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)switch(t.target){case this.friend_close:ViewManager.inst().close(e)}},e.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e}(BaseEuiView);__reflect(ChuYouGet.prototype,"ChuYouGet"),ViewManager.inst().reg(ChuYouGet,LayerManager.UI_Main);var ChuYouTiShi=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e.prototype.touchHandler=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)switch(t.target){case this.friend_close:ViewManager.inst().close(e)}},e.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e}(BaseEuiView);__reflect(ChuYouTiShi.prototype,"ChuYouTiShi"),ViewManager.inst().reg(ChuYouTiShi,LayerManager.UI_Main);var ChuYouView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e.prototype.touchHandler=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)switch(t.target){case this.chuyou_item1:var n="通关剧情【2-2】解锁";UserTips.inst().showTips(n);break;case this.chuyou_item2:var i="通关剧情【2-5】解锁";UserTips.inst().showTips(i);break;case this.chuyou_item3:ViewManager.inst().open(NeiWuView);break;case this.chuyou_item4:var r="通关剧情【2-3】解锁";UserTips.inst().showTips(r);break;case this.chuyou_item5:var o="通关剧情【2-1】解锁";UserTips.inst().showTips(o);break;case this.chuyou_item6:var a="通关剧情【2-4】解锁";UserTips.inst().showTips(a);break;case this.chuyou_huigong:ViewManager.inst().close(e);break;case this.mainview_tou:ViewManager.inst().open(InformationView)}},e.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e}(BaseEuiView);__reflect(ChuYouView.prototype,"ChuYouView"),ViewManager.inst().reg(ChuYouView,LayerManager.UI_Main);var NeiWuView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];GameApp.neiwu_state?(this.label_tishi2.visible=!0,this.label_tishi.text="恢复"):(this.label_tishi2.visible=!1,this.label_tishi.text="义卖"),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e.prototype.touchHandler=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)switch(t.target){case this.friend_btn1:GameApp.neiwu_state?ViewManager.inst().open(ChuYouFui):(GameApp.neiwu_state=!0,this.label_tishi2.visible=!0,this.label_tishi.text="恢复",ViewManager.inst().open(ChuYouGet));break;case this.friend_close:ViewManager.inst().close(e);break;case this.chuyou_help:ViewManager.inst().open(ChuYouTiShi)}},e.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e}(BaseEuiView);__reflect(NeiWuView.prototype,"NeiWuView"),ViewManager.inst().reg(NeiWuView,LayerManager.UI_Main);var ChatComp=function(t){function e(){var e=t.call(this)||this;return e.names=["糖果仙女","电力猫咪","蜡笔小没良心","马尾姑娘","叮当不响","╭⌒浮生若夢","姐很高，也很傲","秋心飘雪","勿忘心安.","手心里的回忆","相见泪染妆","嘴角、一丝笑","剩夏光年","旧约i","萌小姐i","梦中的梦","风吹辫辫飘","半度微风","和你遇见","独遗酒盏","扬州灯火","仙气胶囊","寻菡","零落","薇糖","梦之","清秀姑娘","白凝","从蓉","丹琴","万物生长","醉笙情"],e.things=["<font color=0xfc3434>[系统]</font>恭喜<font color=0x00ff00>[1]</font>势力荣等榜首","<font color=0xfc3434>[世界]</font><font color=0x00ff00>[1]</font>:萌新问一下～势力越高获得的奖励越多吗？","<font color=0xfc3434>[世界]</font><font color=0x00ff00>[1]</font>:公会收人～速来报名啦！！！","<font color=0xfc3434>[系统]</font>恭喜<font color=0x00ff00>[1]</font>获得极品魅力丸","<font color=0xfc3434>[世界]</font><font color=0x00ff00>[1]</font>:这个游戏画质还是不错嘛。","<font color=0xfc3434>[世界]</font><font color=0x00ff00>[1]</font>:萌新想问一下怎么能快速提升呢？","<font color=0xfc3434>[系统]</font>恭喜<font color=0x00ff00>[1]</font>荣登时装榜首"],e.skinName="ChatCompSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){this.changeThing();var t=this;setInterval(function(){t.changeThing()},5e3)},e.prototype.changeThing=function(){var t=Math.random()*this.names.length>>0,e=this.names[t],n=Math.random()*this.things.length>>0,i=this.things[n];i=i.replace("[1]",e),this.chatLab.textFlow=(new egret.HtmlTextParser).parse(i)},e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.close=function(){},e}(eui.Component);__reflect(ChatComp.prototype,"ChatComp");var VirtualJoystick=function(t){function e(){var e=t.call(this)||this;return e.circleRadius=0,e.ballRadius=0,e.centerX=0,e.centerY=0,e.p1=new egret.Point,e.p2=new egret.Point,e.skinName="VirtualJoystickSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){this.circle.width=this.circle.height=141,this.ball.width=this.ball.height=42,this.circleRadius=this.circle.height/2,this.ballRadius=this.ball.height/2,this.centerX=this.circleRadius,this.centerY=this.circleRadius,this.ball.anchorOffsetX=this.ballRadius,this.ball.anchorOffsetY=this.ballRadius,this.ball.x=this.centerX,this.ball.y=this.centerY},e.prototype.start=function(){this.ball.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),StageUtils.inst().getStage().addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),StageUtils.inst().getStage().addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this)},e.prototype.stop=function(){this.ball.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),StageUtils.inst().getStage().removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),StageUtils.inst().getStage().removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this)},e.prototype.onTouchBegin=function(t){this.touchID=t.touchPointID,this.x=t.stageX,this.y=t.stageY,this.ball.x=this.centerX,this.ball.y=this.centerY,this.dispatchEvent(new VJEvent(VJEvent.VJ_START))},e.prototype.onTouchEnd=function(t){this.touchID==t.touchPointID&&(this.touchID=null,this.ball.x=this.centerX,this.ball.y=this.centerY,this.dispatchEvent(new VJEvent(VJEvent.VJ_END)))},e.prototype.onTouchMove=function(t){if(this.touchID==t.touchPointID){var e=this.localToGlobal(this.centerX,this.centerY);this.p2.x=t.stageX,this.p2.y=t.stageY;var n=egret.Point.distance(e,this.p2),i=Math.atan2(t.stageY-e.y,t.stageX-e.x);if(n<=this.circleRadius-this.ballRadius){var r=this.globalToLocal(t.stageX,t.stageY);this.ball.x=r.x,this.ball.y=r.y}else this.ball.x=Math.cos(i)*(this.circleRadius-this.ballRadius)+this.centerX,this.ball.y=Math.sin(i)*(this.circleRadius-this.ballRadius)+this.centerY;this.dispatchEvent(new VJEvent(VJEvent.VJ_MOVE,!1,i))}},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(VirtualJoystick.prototype,"VirtualJoystick");var CreateRole=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new MovieClip;n.playFile("resource/res/view/create/start_effect",-1),n.scaleX=n.scaleY=1.3,n.x=this.btn_group.width/2-50,this.btn_group.addChild(n),this.addTouchEvent(this.btn_group,this.touchTap),this.addTouchEvent(this.create_tou,this.touchCreate)},e.prototype.close=function(){},e.prototype.touchTap=function(){return console.log("开始"),""==this.name_text.text?void UserTips.inst().showTips("昵称不能为空"):(GameConfig.role_name=this.name_text.text,ViewManager.inst().open(MainView),ViewManager.inst().open(StoryPopUp),void ViewManager.inst().close(e))},e.prototype.touchCreate=function(){this.name_text.text=""+GameConfig.names[Math.floor(Math.random()*GameConfig.names.length)]},e}(BaseEuiView);__reflect(CreateRole.prototype,"CreateRole"),ViewManager.inst().reg(CreateRole,LayerManager.UI_Main);var GameView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ViewManager.inst().open(StoryPopUp),this.init(),this.addTouchEvent(this.fight_start,this.touchFight),this.addTouchEvent(this.back_btn,this.touchBack)},e.prototype.close=function(){},e.prototype.init=function(){this.npc_tiao.mask=this.npc_mask,this.player_tiao.mask=this.player_mask,this.player_name.text=GameConfig.role_name,this.npc_name.text=GameConfig.names[Math.floor(Math.random()*GameConfig.names.length)],this.player_forces.text="势力值：500",this.npc_forces.text="势力值："+100*GameConfig.level_id,this.npc_icon.source="npc_icon_"+GameConfig.level_id+"_png"},e.prototype.touchFight=function(){this.fight_start.visible=!1;var t=new MovieClip;t.playFile("resource/res/view/game/fight_effect",-1),this.fight_group.addChild(t),egret.Tween.get(this.npc_mask).to({width:0},2e3),egret.Tween.get(this.player_mask).to({width:200},2e3),egret.Tween.get(this).wait(2e3).call(function(){ViewManager.inst().open(OverView)})},e.prototype.touchBack=function(){UserTips.inst().showTips("剧情战斗不可退出")},e}(BaseEuiView);__reflect(GameView.prototype,"GameView"),ViewManager.inst().reg(GameView,LayerManager.UI_Main);var LevelItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="LevelItemSkin",e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTap,e),e}return __extends(e,t),e.prototype.dataChanged=function(){this.level_name.text=""+this.data.name,this.level_text.text="1-"+this.data.id,0==this.data.state?(this.icon.visible=!1,this.kuang.visible=!1,this.bg.source="icon_lock_png"):1==this.data.state&&(this.icon.visible=!0,this.kuang.visible=!0,this.bg.source="icon_unlock_png")},e.prototype.touchTap=function(){0==this.data.state?UserTips.inst().showTips("请通关前置关卡"):1==this.data.state&&(GameConfig.level_id=this.data.id,ViewManager.inst().open(GameView),ViewManager.inst().close(LevelView))},e}(eui.ItemRenderer);__reflect(LevelItem.prototype,"LevelItem");var LevelView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.list.itemRenderer=LevelItem,this.list.dataProvider=new eui.ArrayCollection(GameConfig.levelFig),this.addTouchEvent(this.back_btn,this.touchBack);var n=this,i=setTimeout(function(){clearTimeout(i);var t=n.list.getChildAt(0);GlobalFun.guideToNext(t,t.width,t.height)},300);MessageManager.inst().addListener(CustomEvt.GUIDE_SELECT_LEVEL_1,this.onSelect1,this)},e.prototype.onSelect1=function(){var t=this.list.getChildAt(0);t.touchTap(),GlobalFun.guideToNext()},e.prototype.close=function(){MessageManager.inst().removeListener(CustomEvt.GUIDE_SELECT_LEVEL_1,this.onSelect1,this)},e.prototype.touchBack=function(){ViewManager.inst().open(MainView)},e}(BaseEuiView);__reflect(LevelView.prototype,"LevelView"),ViewManager.inst().reg(LevelView,LayerManager.UI_Main);var OverView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.addTouchEvent(this.continue_btn,this.touchBack),this.tiao.mask=this.tiao_mask,MessageManager.inst().dispatch("GAME_OVER"),egret.Tween.get(this.tiao_mask).to({width:248},1500).to({width:0},0),egret.Tween.get(this).wait(1500).call(function(){return t.title.text=GameConfig.levelFig[GameConfig.level_id-1].title,GameConfig.level_id++,GameConfig.level_id>=5?void(GameConfig.level_id=5):void(GameConfig.levelFig[GameConfig.level_id-1].state=1)})},e.prototype.close=function(){},e.prototype.touchBack=function(){ViewManager.inst().open(StoryPopUp),2==GameConfig.level_id?(ViewManager.inst().open(UnlockView),ViewManager.inst().close(e),ViewManager.inst().close(GameView)):(ViewManager.inst().open(MainView),ViewManager.inst().close(e),ViewManager.inst().close(GameView))},e}(BaseEuiView);__reflect(OverView.prototype,"OverView"),ViewManager.inst().reg(OverView,LayerManager.UI_Main);var UnlockView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.addTouchEvent(this,this.touchTap)},e.prototype.close=function(){},e.prototype.touchTap=function(){ViewManager.inst().open(MainView)},e}(BaseEuiView);__reflect(UnlockView.prototype,"UnlockView"),ViewManager.inst().reg(UnlockView,LayerManager.UI_Main);var InformationSetView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];GameApp.stzhi_state1||(this.image_1.visible=!1),GameApp.stzhi_state2||(this.image_2.visible=!1),this.label_1.text="昵称："+GameConfig.role_name,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e.prototype.touchHandler=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)switch(t.target){case this.friend_close:ViewManager.inst().close(e);break;case this.btn_2:GameApp.stzhi_state2?(this.image_2.visible=!1,GameApp.stzhi_state2=!1):(GameApp.stzhi_state2=!0,this.image_2.visible=!0);break;case this.btn_1:GameApp.stzhi_state1?(this.image_1.visible=!1,GameApp.stzhi_state1=!1):(GameApp.stzhi_state1=!0,this.image_1.visible=!0);break;case this.roleinfo_login1:break;case this.roleinfo_login2:}},e.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e}(BaseEuiView);__reflect(InformationSetView.prototype,"InformationSetView"),ViewManager.inst().reg(InformationSetView,LayerManager.UI_Main);var InformationView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.label_name.text="昵称 ："+GameConfig.role_name,this.playAction_shouzhi(this.stage.stageWidth/2-50,this.stage.stageHeight/2+150,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)
},e.prototype.playAction_shouzhi=function(t,e,n){var i=RES.getRes("roleinfo2_json"),r=RES.getRes("roleinfo2_png"),o=new egret.MovieClipDataFactory(i,r),a=new egret.MovieClip(o.generateMovieClipData("roleinfo"));a.$setScaleX(.65),a.$setScaleY(.65),n.addChild(a),a.addEventListener(egret.Event.COMPLETE,function(t){},this),a.x=t,a.y=e,a.gotoAndPlay("roleinfo",-1)},e.prototype.touchHandler=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)switch(t.target){case this.friend_close:ViewManager.inst().close(e);break;case this.roleinfo_shezhi:ViewManager.inst().open(InformationSetView)}},e.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e}(BaseEuiView);__reflect(InformationView.prototype,"InformationView"),ViewManager.inst().reg(InformationView,LayerManager.UI_Main);var LoginView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.addTouchEvent(this.login_btn,this.touchLogin),this.addTouchEvent(this.zhuce_label,this.touchZhuce),this.addTouchEvent(this.zhuce_btn,this.touchZhuceBtn),this.addTouchEvent(this.start_game,this.touchStart),this.addTouchEvent(this.huan_group,this.touchHuan),this.addTouchEvent(this.start_img,this.touchStartImg),this.addTouchEvent(this.close_img,this.touchClose),this.addTouchEvent(this.btn_group,this.touchBtn),this.addTouchEvent(this.yijian_label,this.touchStartImg)},e.prototype.close=function(){},e.prototype.touchLogin=function(){return""==this.account.text?(console.log("提示输入账号不能为空"),void UserTips.inst().showTips("提示输入账号不能为空")):""==this.password.text?(console.log("提示输入密码不能为空"),void UserTips.inst().showTips("提示输入密码不能为空")):(console.log("登陆"),this.zhanghao_group.visible=!1,void(this.serverbtn_group.visible=!0))},e.prototype.touchZhuce=function(){this.title_label.text="账号注册",this.login_btn.visible=!1,this.start_game.visible=!0,this.fuwu_group.visible=!1,this.zhuce_label.visible=!1,this.yijian_label.visible=!1},e.prototype.touchZhuceBtn=function(){},e.prototype.touchStart=function(){return""==this.account.text?(console.log("提示输入账号不能为空"),void UserTips.inst().showTips("提示输入账号不能为空")):""==this.password.text?(console.log("提示输入密码不能为空"),void UserTips.inst().showTips("提示输入密码不能为空")):(this.zhanghao_group.visible=!1,void(this.serverbtn_group.visible=!0))},e.prototype.touchHuan=function(){this.server_group.visible=!0,this.rect.visible=!0},e.prototype.touchStartImg=function(){ViewManager.inst().open(StoryView),ViewManager.inst().close(e)},e.prototype.touchClose=function(){this.server_group.visible=!1,this.rect.visible=!1},e.prototype.touchBtn=function(){this.server_group.visible=!1,this.rect.visible=!1},e}(BaseEuiView);__reflect(LoginView.prototype,"LoginView"),ViewManager.inst().reg(LoginView,LayerManager.UI_Main);var BagPopUp=function(t){function e(){var e=t.call(this)||this;return e.itemData=[],e.selectIndex=0,e}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.addTouchEvent(this.returnBtn,this.onClose,!0),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.itemData=[{name:"银两",desc:"使用后立即获得100000银两",num:2,icon:"item_1003_png"},{name:"属性丹",desc:"使用后增加随从1000点随机属性",num:2,icon:"item_1002_png"},{name:"卷轴礼包",desc:"使用后增加随机获得一本强化卷轴",num:2,icon:"item_1007_png"}],this.selectFocus.x=this.item1.x+this.item1.width-this.selectFocus.width,this.selectFocus.y=this.item1.y+this.item1.height-this.selectFocus.height,this.refreshInfo(this.selectIndex),this.watcher=eui.Binding.bindHandler(GameApp,["battleNum"],this.onBattleOver,this)},e.prototype.onBattleOver=function(t){if(t&&t>2)for(var e=0;e<this.itemData.length;e++)this.itemData[e].num+=2},e.prototype.onTouchTap=function(t){switch(t.target){case this.item1:this.selectIndex=0,this.refreshInfo(0);break;case this.item2:this.selectIndex=1,this.refreshInfo(1);break;case this.item3:this.selectIndex=2,this.refreshInfo(2);break;case this.propBtn:this.propBtn.currentState="down",this.hechengBtn.currentState="up",this.itemGroup.visible=!0,this.useBtn.visible=!0;break;case this.hechengBtn:this.propBtn.currentState="up",this.hechengBtn.currentState="down",this.itemGroup.visible=!1,this.useBtn.visible=!1;break;case this.useBtn:var e=this.itemData[this.selectIndex];if(e.num<=0)return void UserTips.inst().showTips("物品不足");UserTips.inst().showTips("使用物品成功"),this.itemData[this.selectIndex].num-=1,this.refreshInfo(this.selectIndex)}},e.prototype.refreshInfo=function(t){this.selectFocus.x=this["item"+(t+1)].x+this["item"+(t+1)].width-this.selectFocus.width,this.selectFocus.y=this["item"+(t+1)].y+this["item"+(t+1)].height-this.selectFocus.height;for(var e=0;e<this.itemData.length;e++)this["itemNum"+(e+1)].text=this.itemData[e].num;this.selectIcon.source=this.itemData[t].icon,this.selectName.text=this.itemData[t].name,this.descLab.text=this.itemData[t].desc,this.numLab.text="数量："+this.itemData[t].num},e.prototype.onClose=function(){ViewManager.inst().close(e)},e.prototype.close=function(){this.removeTouchEvent(this.returnBtn,this.onClose),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},e}(BaseEuiView);__reflect(BagPopUp.prototype,"BagPopUp"),ViewManager.inst().reg(BagPopUp,LayerManager.UI_Pop);var DailyTask=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.progressBar.mask=this.progressMask,this.progressMask.width=0,this.arrayCollect=new eui.ArrayCollection,this.list.itemRenderer=DailyTaskItem,this.list.dataProvider=this.arrayCollect,this.scroller.viewport=this.list,this.scroller.verticalScrollBar.autoVisibility=!1,this.scroller.verticalScrollBar.visible=!1,this.addTouchEvent(this.returnBtn,this.onClose,!0),MessageManager.inst().addListener("taskfinish",this.onTaskFinish,this);for(var n=["主线剧情","珍品义卖","药园打理","血燕补气","随从升级","随从成长"],i=["目标：0/1","目标：0/3","目标：0/4","目标：0/5","目标：0/10","目标：0/10"],r=["奖励：活跃度+10，官运+5","奖励：活跃度+10，官运+10","奖励：活跃度+10，官运+15","奖励：活跃度+10，官运+25","奖励：活跃度+10，官运+30",,"奖励：活跃度+10，官运+30"],o=["item11_png","item13_png","item12_png","item15_png","item16_png","item17_png"],a=[null,NeiWuView,NeiWuView,NeiWuView,PoCongShow,PoCongShow],s=[],h=0;h<n.length;h++){var l={};l.title=n[h],l.task=i[h],l.desc=r[h],l.reward=0,l.route=a[h],l.icon=o[h],0==h&&(GameApp.isGetTaskReward?(l.reward=2,l.task="目标：1/1",this.onTaskFinish()):GameApp.isFinishFirstTask&&(l.reward=1,l.task="目标：1/1")),s.push(l)}this.arrayCollect.source=s},e.prototype.onTaskFinish=function(){this.progressMask.width=75,this.activeLab.text="今日活跃度 10"},e.prototype.onClose=function(){ViewManager.inst().close(e)},e.prototype.close=function(){this.removeTouchEvent(this.returnBtn,this.onClose),MessageManager.inst().removeListener("taskfinish",this.onTaskFinish,this)},e}(BaseEuiView);__reflect(DailyTask.prototype,"DailyTask"),ViewManager.inst().reg(DailyTask,LayerManager.UI_Pop);var DailyTaskItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="DailyTaskItemSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouch,this)},e.prototype.onTouch=function(){"已领取"==this.btnLab.text?UserTips.inst().showTips("已领取"):"领取"==this.btnLab.text?(UserTips.inst().showTips("领取活跃10礼包"),MessageManager.inst().dispatch("taskfinish"),this.refreshState(2),GameApp.isGetTaskReward=!0):(ViewManager.inst().close(DailyTask),ViewManager.inst().open(this.goRoute))},e.prototype.dataChanged=function(){this.titleLab.text=this.data.title,this.taskLab.text=this.data.task,this.descLab.text=this.data.desc,this.icon.source=this.data.icon,2==this.data.reward?this.btnLab.text="已领取":1==this.data.reward?this.btnLab.text="领取":(this.btnLab.text="前往",this.goRoute=this.data.route)},e.prototype.refreshState=function(t){2==t?this.btnLab.text="已领取":1==t?this.btnLab.text="领取":this.btnLab.text="前往"},e.prototype.dispose=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouch,this)},e}(eui.ItemRenderer);__reflect(DailyTaskItem.prototype,"DailyTaskItem");var ShopPopUp=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.addTouchEvent(this.button1,this.onBuy,!0),this.addTouchEvent(this.button2,this.onBuy,!0),this.addTouchEvent(this.button3,this.onBuy,!0),this.addTouchEvent(this.button4,this.onBuy,!0),this.addTouchEvent(this.button5,this.onBuy,!0),this.addTouchEvent(this.returnBtn,this.onClose,!0)},e.prototype.onClose=function(){ViewManager.inst().close(e)},e.prototype.onBuy=function(){UserTips.inst().showTips("元宝不足～")},e.prototype.close=function(){this.removeTouchEvent(this.returnBtn,this.onClose),this.removeTouchEvent(this.button1,this.onBuy),this.removeTouchEvent(this.button2,this.onBuy),this.removeTouchEvent(this.button3,this.onBuy),this.removeTouchEvent(this.button4,this.onBuy),this.removeTouchEvent(this.button5,this.onBuy)},e}(BaseEuiView);__reflect(ShopPopUp.prototype,"ShopPopUp"),ViewManager.inst().reg(ShopPopUp,LayerManager.UI_Pop);var StoryPopUp=function(t){function e(){var e=t.call(this)||this;return e.storyCfg=[],e.singlePrintFinish=!1,e.startSelect=!1,e.endBoo=!1,e.timeoutGather=[],e}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.addTouchEvent(this.jumpBtn,this.onjump,!0),this.leftRoleGroup.visible=!1,this.rightRoleGroup.visible=!1,this.storyCfg=StoryCfg.storyCfg,this.addTouchEvent(this.way1,this.onWay1,!0),this.addTouchEvent(this.way2,this.onWay2,!0),this.showSingleCfg(),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},e.prototype.onTouchTap=function(){if(this.singlePrintFinish){if(this.endBoo)return ViewManager.inst().close(e),GameApp.storyIndex+=1,void MessageManager.inst().dispatch("storyOver");if(this.startSelect){this.selectGroup.visible=!0,this.storyGroup.visible=!1;var t=this.storyCfg[GameApp.storyIndex];this.select1Lab.text=t.select1,this.select2Lab.text=t.select2}else this.storyGroup.visible=!0,this.selectGroup.visible=!1,this.showSingleCfg()}else{var t=this.storyCfg[GameApp.storyIndex];if(t){for(var n=0;n<this.timeoutGather.length;n++)egret.clearTimeout(this.timeoutGather[n]);this.singlePrintFinish=!0,GameApp.storyIndex+=1,this.contentLab.text=t.cnt}}},e.prototype.onWay1=function(){GameApp.storyIndex+=1,this.selectGroup.visible=!1,this.storyGroup.visible=!0,this.showSingleCfg()},e.prototype.onWay2=function(){GameApp.storyIndex+=2,this.selectGroup.visible=!1,this.storyGroup.visible=!0,this.showSingleCfg()},e.prototype.showSingleCfg=function(){var t=this,n=this.storyCfg[GameApp.storyIndex];return n?(this.contentLab.text="",this.singlePrintFinish=!1,n.bg&&(this.bg.source=n.bg),n.left&&(this.rightRoleGroup.visible=!1,this.leftRoleGroup.visible=!0),n.right&&(this.leftRoleGroup.visible=!1,this.rightRoleGroup.visible=!0,this.rightRole.source=n.role,this.rightNameLab.text=n.roleName),n.left||n.right||(this.leftRoleGroup.visible=!1,this.rightRoleGroup.visible=!1),this.endBoo=n.end,this.startSelect=n.startSelect,void this.typerEffect(this.contentLab,n.cnt,100,function(){GameApp.storyIndex+=1,t.singlePrintFinish=!0;for(var e=0;e<t.timeoutGather.length;e++)egret.clearTimeout(t.timeoutGather[e])},this)):void ViewManager.inst().close(e)},e.prototype.typerEffect=function(t,e,n,i,r){void 0===e&&(e=""),void 0===n&&(n=100),void 0===i&&(i=null);for(var o=e.split(""),a=o.length,s=function(e){var s=void 0;s=egret.setTimeout(function(){t.appendText(o[e]),Number(e)>=a-1&&null!=i&&i.call(r)},h,n*e),h.timeoutGather.push(s)},h=this,l=0;a>l;l++)s(l)},e.prototype.onjump=function(){},e.prototype.close=function(){this.removeTouchEvent(this.jumpBtn,this.onjump),this.removeTouchEvent(this.way1,this.onWay1),this.removeTouchEvent(this.way2,this.onWay2),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},e}(BaseEuiView);__reflect(StoryPopUp.prototype,"StoryPopUp"),ViewManager.inst().reg(StoryPopUp,LayerManager.UI_Pop);var StoryView=function(t){function e(){var e=t.call(this)||this;return e.round=1,e.img=1,e}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.effect(),this.addTouchEvent(this,this.touchTap)},e.prototype.effect=function(){var t=this;egret.Tween.get(this["img"+this.round+"_"+this.img]).to({alpha:1},1e3),egret.Tween.get(this).wait(1e3).call(function(){if(t.img++,4==t.round){if(t.img>2)return t["group"+t.round].visible=!1,t.round++,t.img=1,egret.Tween.get(t).wait(1e3).call(function(){t.effect()}),void t.nextAni()}else if(t.img>3)return t["group"+t.round].visible=!1,t.round++,t.img=1,egret.Tween.get(t).wait(1e3).call(function(){t.effect()}),void t.nextAni();t.nextAni(),t.effect()})},e.prototype.close=function(){},e.prototype.nextAni=function(){return this.round>4?(egret.Tween.removeAllTweens(),ViewManager.inst().open(CreateRole),void ViewManager.inst().close(e)):void 0},e.prototype.touchTap=function(){return this.nextAni(),this.round>4?(ViewManager.inst().open(CreateRole),void ViewManager.inst().close(e)):(egret.Tween.removeAllTweens(),this["img"+this.round+"_"+this.img].alpha=1,this.img++,4==this.round?this.img>2&&(this["group"+this.round].visible=!1,this.round++,this.img=1):this.img>3&&(this["group"+this.round].visible=!1,this.round++,this.img=1),this.round>4?(ViewManager.inst().open(CreateRole),void ViewManager.inst().close(e)):void this.effect())},e}(BaseEuiView);__reflect(StoryView.prototype,"StoryView"),ViewManager.inst().reg(StoryView,LayerManager.UI_Main);var UserTips=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.inst=function(){var t=this.single();return t},Object.defineProperty(e.prototype,"view",{get:function(){return this._view&&this._view.parent||(ViewManager.inst().open(TipsView),this._view=ViewManager.inst().getView(TipsView)),this._view},enumerable:!0,configurable:!0}),e.prototype.showTips=function(t,e){DelayOptManager.inst().addDelayOptFunction(this.view,this.view.showTips,t)},e}(BaseClass);__reflect(UserTips.prototype,"UserTips");var TipsItem=function(t){function e(){var e=t.call(this)||this;return e.index=0,e.skinName="TipsSkin",e.touchEnabled=!1,e.touchChildren=!1,e}return __extends(e,t),e.prototype.setIndex=function(t){this.index=t},Object.defineProperty(e.prototype,"labelText",{get:function(){return this._labelText},set:function(t){this._labelText=t,this.lab.textFlow=TextFlowMaker.generateTextFlow(this._labelText),this.lab.alpha=1,this.lab.verticalCenter=0,this.lab.horizontalCenter=0,this.pic.width=this.lab.width+20,this.addToEvent||(this.addToEvent=!0,TimerManager.inst().doTimer(1200,1,this.removeFromParent,this))},enumerable:!0,configurable:!0}),e.prototype.removeFromParent=function(){this.addToEvent=!1,DisplayUtils.removeFromParent(this),egret.Tween.removeTweens(this),ObjectPool.push(this)},e}(BaseView);__reflect(TipsItem.prototype,"TipsItem");var TipsView=function(t){function e(){var e=t.call(this)||this;return e.labCount=0,e.list=[],e.initUI(),e}return __extends(e,t),e.prototype.close=function(){},e.prototype.initUI=function(){this.touchChildren=!1,this.touchEnabled=!1},e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.showTips=function(t){var e=ObjectPool.pop("TipsItem");e.horizontalCenter=0,e.verticalCenter=0,this.addChild(e),e.labelText=t,this.list.unshift(e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeTipsItem,this);for(var n=this.list.length-1;n>=0;n--){egret.Tween.removeTweens(this.list[n]),this.list[n].scaleX=this.list[n].scaleY=0;var i=egret.Tween.get(this.list[n]);i.to({scaleX:1,scaleY:1},300,egret.Ease.circOut)}},e.prototype.removeTipsItem=function(t){var e=t.currentTarget;e.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeTipsItem,this),e.left=0/0,e.bottom=0/0;var n=this.list.indexOf(e);this.list.splice(n,1),ObjectPool.push(e)},e}(BaseEuiView);__reflect(TipsView.prototype,"TipsView"),ViewManager.inst().reg(TipsView,LayerManager.TIPS_LAYER);